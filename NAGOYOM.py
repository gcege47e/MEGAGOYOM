import telebot
from telebot import types
import sqlite3
import random
import re
import threading
import time
import os
from flask import Flask, request
import difflib  # Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆÛŒ ÙØ§Ø²ÛŒ

# ØªÙ†Ø¸ÛŒÙ…Ø§Øª
API_TOKEN = "8158514610:AAG6QYu1tlOuh6BkbjhojAkjRl3cCAP31Ao"
ADMIN_ID = 7385601641
DB_NAME = "goyim.db"
WEBHOOK_URL = "https://goyomnama.onrender.com"
PORT = 5000

# ØªÙ†Ø¸ÛŒÙ… Ø±Ø¨Ø§Øª
bot = telebot.TeleBot(API_TOKEN, threaded=True)
app = Flask(__name__)

# Ø§Ø³ØªÛŒÚ©Ø±Ù‡Ø§ÛŒ Ù…Ø®ØµÙˆØµ
EMOJIS = {
    "profile": "ğŸ‘¤",
    "places": "ğŸ“",
    "back": "ğŸ”™",
    "home": "ğŸ ",
    "edit": "âœï¸",
    "delete": "ğŸ—‘ï¸",
    "add": "â•",
    "view": "ğŸ‘ï¸",
    "success": "âœ…",
    "error": "âŒ",
    "info": "â„¹ï¸",
    "star": "â­",
    "admin": "ğŸ”§",
    "news": "ğŸ“°",
    "help": "â“",
    "link": "ğŸ”—",
    "document": "ğŸ“‹",
    "warning": "âš ï¸",
    "rating": "ğŸŒŸ",
    "group": "ğŸ‘¥",
    "user": "ğŸ‘¤",
    "score": "ğŸ†",
    "add_score": "â¬†ï¸",
    "remove_score": "â¬‡ï¸",
    "report": "ğŸš¨",
    "comment": "ğŸ’¬",
    "comments": "ğŸ“",
    "message": "âœ‰ï¸",
    "block": "ğŸš«",
    "unblock": "ğŸ”“",
    "reply": "â†©ï¸"
}

# Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ùˆ Ù‚ÙˆØ§Ù†ÛŒÙ†
WELCOME_MESSAGE = f"""
{EMOJIS['home']} Ø¨Ù‡ Ø±Ø¨Ø§Øª Ú¯ÙˆÛŒÙ…â€ŒÙ†Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! {EMOJIS['success']}

Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø±Ø¨Ø§ØªØŒ Ù„Ø·ÙØ§Ù‹ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø²ÛŒØ± Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ùˆ ØªØ£ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯:

{EMOJIS['info']} Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª:
1. Ø¯Ø± ØµÙˆØ±ØªÛŒ Ú©Ù‡ ØµØ§Ø­Ø¨ ÛŒÚ© Ù…Ú©Ø§Ù† Ù‡Ø³ØªÛŒØ¯ØŒ Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ù…Ø´Ú©Ù„ ÛŒØ§ Ø§ØªÙØ§Ù‚ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ù…Ú©Ø§Ù† Ø«Ø¨Øªâ€ŒØ´Ø¯Ù‡ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø´Ù…Ø§Ø³Øª.
2. Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù…Ø­ØªÙˆØ§ÛŒ ØºÛŒØ±Ø§Ø®Ù„Ø§Ù‚ÛŒØŒ ØªÙˆÙ‡ÛŒÙ†â€ŒØ¢Ù…ÛŒØ² ÛŒØ§ Ù†Ù‚Ø¶â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø¨Ø§Øª Ø¬Ø¯Ø§Ù‹ Ø®ÙˆØ¯Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.
3. Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ùˆ ØµØ­Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.
4. Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ø³ÙˆØ¡Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ù…Ù…Ù†ÙˆØ¹ Ø¨ÙˆØ¯Ù‡ Ùˆ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù† Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø´Ù…Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.
5. Ø¯Ø± ØµÙˆØ±Øª Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ†ØŒ Ø­Ø³Ø§Ø¨ Ø´Ù…Ø§ Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ùˆ Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ù‡Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§Ù†Ø¯Ú© Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.

{EMOJIS['warning']} ØªÙˆØ¬Ù‡: Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ ØºÛŒØ±Ù…Ø¬Ø§Ø² Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ù¾ÛŒÚ¯Ø±Ø¯ Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø¯Ø§Ø±Ø¯.

Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ø¯Ù‚Øª Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ú¯Ø²ÛŒÙ†Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:
"""

# Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø­Ø§Ù„Øª Ú©Ø§Ø±Ø¨Ø±
user_states = {}
user_data = {}
blocked_users = set()
user_blocks = {}  # Ø¨Ø±Ø§ÛŒ Ø¨Ù„Ø§Ú©â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ù…Ú©Ø§Ù†: {place_id: set(blocked_user_ids)}
place_photos = {}  # Ù…ÙˆÙ‚Øª Ø¨Ø±Ø§ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø¹Ú©Ø³â€ŒÙ‡Ø§

# ØªÙ†Ø¸ÛŒÙ… Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡
def init_db():
    conn = sqlite3.connect(DB_NAME)
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS users (
                 user_id INTEGER PRIMARY KEY,
                 name TEXT,
                 age INTEGER,
                 gender TEXT,
                 score INTEGER DEFAULT 0,
                 numeric_id INTEGER UNIQUE)''')
    c.execute('''CREATE TABLE IF NOT EXISTS places (
                 place_id INTEGER PRIMARY KEY AUTOINCREMENT,
                 user_id INTEGER,
                 category TEXT,
                 subcategory TEXT,
                 title TEXT,
                 description TEXT,
                 address TEXT,
                 phone TEXT,
                 photos TEXT,  -- Ú©Ø§Ù…Ø§ Ø³Ù¾Ø±ÛŒØªØ¯ file_ids
                 morning_shift TEXT,
                 afternoon_shift TEXT,
                 rating_sum INTEGER DEFAULT 0,
                 rating_count INTEGER DEFAULT 0)''')
    c.execute('''CREATE TABLE IF NOT EXISTS place_ratings (
                 place_id INTEGER,
                 user_id INTEGER,
                 rating INTEGER,
                 PRIMARY KEY (place_id, user_id))''')
    c.execute('''CREATE TABLE IF NOT EXISTS news (
                 news_id INTEGER PRIMARY KEY AUTOINCREMENT,
                 content TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS comments (
                 comment_id INTEGER PRIMARY KEY AUTOINCREMENT,
                 place_id INTEGER,
                 user_id INTEGER,
                 comment TEXT)''')
    try:
        c.execute("ALTER TABLE places ADD COLUMN subcategory TEXT")
    except sqlite3.OperationalError:
        pass
    try:
        c.execute("ALTER TABLE places ADD COLUMN photos TEXT")
    except sqlite3.OperationalError:
        pass
    conn.commit()
    conn.close()

init_db()

# Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§
PLACE_CATEGORIES = {
    "ğŸ½ï¸ Ø®ÙˆØ±Ø§Ú©ÛŒ Ùˆ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ": [
        "Ø±Ø³ØªÙˆØ±Ø§Ù†â€ŒÙ‡Ø§ (Ø³Ù†ØªÛŒØŒ ÙØ³Øª ÙÙˆØ¯ØŒ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒØŒ Ø¯Ø±ÛŒØ§ÛŒÛŒØŒ Ú¯ÛŒØ§Ù‡Ø®ÙˆØ§Ø±ÛŒ)",
        "Ú©Ø§ÙÙ‡ Ùˆ Ú©Ø§ÙÛŒâ€ŒØ´Ø§Ù¾ (Ú©Ø§ÙÙ‡â€ŒØ±Ø³ØªÙˆØ±Ø§Ù†ØŒ Ù‚Ù‡ÙˆÙ‡ ØªØ®ØµØµÛŒ)",
        "Ø¨Ø³ØªÙ†ÛŒâ€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ø¢Ø¨Ù…ÛŒÙˆÙ‡â€ŒÙØ±ÙˆØ´ÛŒ (Ø¨Ø³ØªÙ†ÛŒ Ø³Ù†ØªÛŒØŒ Ø¨Ø³ØªÙ†ÛŒ Ø§ÛŒØªØ§Ù„ÛŒØ§ÛŒÛŒ)",
        "Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒÙ¾Ø²ÛŒ Ùˆ Ù†Ø§Ù†ÙˆØ§ÛŒÛŒ (Ù†Ø§Ù†ÙˆØ§ÛŒÛŒ Ø³Ù†ØªÛŒØŒ Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒÙ¾Ø²ÛŒ Ù‚Ù†Ø§Ø¯ÛŒ)",
        "Ø³ÙØ±Ù‡â€ŒØ®Ø§Ù†Ù‡ Ùˆ Ú†Ø§ÛŒØ®Ø§Ù†Ù‡ (Ù‚Ù‡ÙˆÙ‡ Ø®Ø§Ù†Ù‡ Ø³Ù†ØªÛŒØŒ Ú†Ø§ÛŒØ®Ø§Ù†Ù‡ Ù…Ø¯Ø±Ù†)",
        "ÙÙˆØ¯Ú©ÙˆØ±Øª Ùˆ Ù…Ø±Ø§Ú©Ø² ØºØ°Ø§Ø®ÙˆØ±ÛŒ",
        "Ú©Ø¨Ø§Ø¨ÛŒ Ùˆ Ø¬Ú¯Ø±Ú©ÛŒ (Ú©Ø¨Ø§Ø¨â€ŒÙØ±ÙˆØ´ÛŒØŒ Ø¬Ú¯Ø±Ú©ÛŒØŒ Ø¯ÛŒØ²ÛŒâ€ŒØ³Ø±Ø§)",
        "Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ù¾ÛŒØªØ²Ø§ÙØ±ÙˆØ´ÛŒ (Ù¾ÛŒØªØ²Ø§ÙØ±ÙˆØ´ÛŒØŒ Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†â€ŒÙØ±ÙˆØ´ÛŒ Ù…Ø­Ù„ÛŒ)",
        "Ù‚Ù†Ø§Ø¯ÛŒ Ùˆ Ø´Ú©Ù„Ø§Øªâ€ŒÙØ±ÙˆØ´ÛŒ (Ø´Ú©Ù„Ø§Øªâ€ŒÙØ±ÙˆØ´ÛŒ ØªØ®ØµØµÛŒØŒ Ø¢Ø¨Ù†Ø¨Ø§Øªâ€ŒÙØ±ÙˆØ´ÛŒ)",
        "Ø¢Ø¬ÛŒÙ„â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ø®Ø´Ú©Ø¨Ø§Ø± (Ø¢Ø¬ÛŒÙ„â€ŒÙØ±ÙˆØ´ÛŒØŒ Ø®Ø´Ú©Ø¨Ø§Ø±ÙØ±ÙˆØ´ÛŒ)",
        "Ø³ÙˆÙ¾Ø±Ù…Ø§Ø±Ú©Øª Ù…Ø­Ù„ÛŒ Ùˆ Ù‡Ø§ÛŒÙ¾Ø±",
        "Ù‚ØµØ§Ø¨ÛŒ Ùˆ Ù…Ø±Øº ÙØ±ÙˆØ´ÛŒ (Ù‚ØµØ§Ø¨ÛŒØŒ Ù…Ø±Øºâ€ŒÙØ±ÙˆØ´ÛŒØŒ Ù…Ø§Ù‡ÛŒâ€ŒÙØ±ÙˆØ´ÛŒ)",
        "Ù…ÛŒÙˆÙ‡â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ ØªØ±Ù‡â€ŒØ¨Ø§Ø± (Ù…ÛŒÙˆÙ‡â€ŒÙØ±ÙˆØ´ÛŒØŒ Ø³Ø¨Ø²ÛŒâ€ŒÙØ±ÙˆØ´ÛŒ)",
        "Ù…Ø§Ù‡ÛŒâ€ŒÙØ±ÙˆØ´ÛŒ Ùˆ ØºØ°Ø§Ù‡Ø§ÛŒ Ø¯Ø±ÛŒØ§ÛŒÛŒ",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…ÙˆØ§Ø¯ ØºØ°Ø§ÛŒÛŒ Ù…Ø­Ù„ÛŒ",
        "Ø¹Ø³Ù„â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø²Ù†Ø¨ÙˆØ±Ø¯Ø§Ø±ÛŒ",
        "Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø­Ù„ÛŒ Ùˆ Ù…Ù†Ø·Ù‚Ù‡â€ŒØ§ÛŒ",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ø±Ú¯Ø§Ù†ÛŒÚ©",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…ÙˆØ§Ø¯ ØºØ°Ø§ÛŒÛŒ Ù…Ù†Ø¬Ù…Ø¯",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù„Ø¨Ù†ÛŒ Ùˆ Ù¾Ù†ÛŒØ±",
        "Ù†Ø§Ù†â€ŒÙØ±ÙˆØ´ÛŒ ØªØ®ØµØµÛŒ (Ù†Ø§Ù† Ø¨Ø§Ú¯ØªØŒ Ù†Ø§Ù† Ø³Ù†Ú¯Ú©)",
        "ØºØ°Ø§Ù‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ Ùˆ ØºØ°Ø§Ù‡Ø§ÛŒ Ù‚ÙˆÙ…ÛŒ"
    ],
    "ğŸ›ï¸ Ø®Ø±ÛŒØ¯ Ùˆ ÙØ±ÙˆØ´": [
        "Ù¾Ø§Ø³Ø§Ú˜Ù‡Ø§ Ùˆ Ù…Ø±Ø§Ú©Ø² Ø®Ø±ÛŒØ¯ (Ù…Ø§Ù„ØŒ Ù…Ø±Ú©Ø² Ø®Ø±ÛŒØ¯ØŒ Ø¨Ø§Ø²Ø§Ø±Ú†Ù‡)",
        "Ø³ÙˆÙ¾Ø±Ù…Ø§Ø±Ú©Øª Ùˆ Ù‡Ø§ÛŒÙ¾Ø±Ù…Ø§Ø±Ú©Øª (Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒØ§ÛŒØŒ Ù…Ø­Ù„ÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒØ§ÛŒ",
        "Ø¨Ø§Ø²Ø§Ø± Ø³Ù†ØªÛŒ Ùˆ Ø¨Ø§Ø²Ø§Ø±Ú†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø­Ù„ÛŒ (Ø¨Ø§Ø²Ø§Ø± Ø±ÙˆØ²ØŒ Ø¨Ø§Ø²Ø§Ø± Ù‡ÙØªÚ¯ÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù¾ÙˆØ´Ø§Ú© Ùˆ Ú©ÛŒÙ Ùˆ Ú©ÙØ´ (Ù„Ø¨Ø§Ø³ Ù…Ø±Ø¯Ø§Ù†Ù‡ØŒ Ø²Ù†Ø§Ù†Ù‡ØŒ Ø¨Ú†Ú¯Ø§Ù†Ù‡)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… Ø®Ø§Ù†Ú¯ÛŒ Ùˆ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© (Ù„ÙˆØ§Ø²Ù… Ø¨Ø±Ù‚ÛŒØŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… ÙˆØ±Ø²Ø´ÛŒ (ÙˆØ±Ø²Ø´ÛŒØŒ Ú©ÙˆÙ‡Ù†ÙˆØ±Ø¯ÛŒØŒ Ø´Ù†Ø§)",
        "Ú©ØªØ§Ø¨â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ù„ÙˆØ§Ø²Ù… Ø§Ù„ØªØ­Ø±ÛŒØ± (Ú©ØªØ§Ø¨â€ŒÙØ±ÙˆØ´ÛŒ Ø¹Ù…ÙˆÙ…ÛŒØŒ ØªØ®ØµØµÛŒ)",
        "Ù…ØºØ§Ø²Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ Ù„Ù¾â€ŒØªØ§Ù¾ (ÙØ±ÙˆØ´ØŒ ØªØ¹Ù…ÛŒØ±ØŒ Ù„ÙˆØ§Ø²Ù… Ø¬Ø§Ù†Ø¨ÛŒ)",
        "Ú¯Ù„â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¢Ù¾Ø§Ø±ØªÙ…Ø§Ù†ÛŒ (Ú¯Ù„â€ŒÙØ±ÙˆØ´ÛŒØŒ Ú¯Ù„â€ŒØ¢Ø±Ø§ÛŒÛŒ)",
        "Ø¹ÛŒÙ†Ú©â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ø§Ù¾ØªÛŒÚ© (Ø¹ÛŒÙ†Ú©â€ŒÙØ±ÙˆØ´ÛŒØŒ Ø¹ÛŒÙ†Ú©â€ŒØ³Ø§Ø²ÛŒ)",
        "Ø¹Ø·Ø± Ùˆ Ø§Ø¯Ú©Ù„Ù† ÙØ±ÙˆØ´ÛŒ (Ø¹Ø·Ø± ÙØ±ÙˆØ´ÛŒØŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¢Ø±Ø§ÛŒØ´ÛŒ)",
        "Ø·Ù„Ø§ Ùˆ Ø¬ÙˆØ§Ù‡Ø± ÙØ±ÙˆØ´ÛŒ (Ø·Ù„Ø§ÙØ±ÙˆØ´ÛŒØŒ Ø¬ÙˆØ§Ù‡Ø±ÙØ±ÙˆØ´ÛŒ)",
        "Ø³Ø§Ø¹Øªâ€ŒÙØ±ÙˆØ´ÛŒ (Ø³Ø§Ø¹Øª Ù…Ú†ÛŒØŒ Ø¯ÛŒÙˆØ§Ø±ÛŒ)",
        "Ù„ÙˆØ§Ø²Ù… Ø¢Ø±Ø§ÛŒØ´ÛŒ Ùˆ Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒ (Ø¢Ø±Ø§ÛŒØ´ÛŒØŒ Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒØŒ Ù…Ø±Ø§Ù‚Ø¨Øª Ù¾ÙˆØ³Øª)",
        "Ø§Ø³Ø¨Ø§Ø¨â€ŒØ¨Ø§Ø²ÛŒâ€ŒÙØ±ÙˆØ´ÛŒ (Ø§Ø³Ø¨Ø§Ø¨â€ŒØ¨Ø§Ø²ÛŒØŒ Ø¨Ø§Ø²ÛŒ ÙÚ©Ø±ÛŒ)",
        "ØµÙ†Ø§ÛŒØ¹â€ŒØ¯Ø³ØªÛŒ Ùˆ Ø³ÙˆØºØ§ØªÛŒâ€ŒÙØ±ÙˆØ´ÛŒ (ØµÙ†Ø§ÛŒØ¹ Ø¯Ø³ØªÛŒØŒ Ø³ÙˆØºØ§Øª)",
        "Ø¯Ú©ÙˆØ±Ø§Ø³ÛŒÙˆÙ† Ùˆ Ù„ÙˆØ§Ø²Ù… Ù…Ù†Ø²Ù„ (Ø¯Ú©ÙˆØ±Ø§Ø³ÛŒÙˆÙ†ØŒ Ù„ÙˆØ§Ø²Ù… ØªØ²Ø¦ÛŒÙ†ÛŒ)",
        "ÙØ±Ø´ Ùˆ Ú¯Ù„ÛŒÙ… ÙØ±ÙˆØ´ÛŒ (ÙØ±Ø´â€ŒÙØ±ÙˆØ´ÛŒØŒ Ú¯Ù„ÛŒÙ…â€ŒÙØ±ÙˆØ´ÛŒ)",
        "Ù¾Ø§Ø±Ú†Ù‡â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ø®ÛŒØ§Ø·ÛŒ (Ù¾Ø§Ø±Ú†Ù‡â€ŒÙØ±ÙˆØ´ÛŒØŒ Ø®ÛŒØ§Ø·ÛŒ)",
        "Ú†Ø±Ù…â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ Ú©ÛŒÙâ€ŒØ³Ø§Ø²ÛŒ (Ú†Ø±Ù…â€ŒÙØ±ÙˆØ´ÛŒØŒ Ú©ÛŒÙâ€ŒØ¯ÙˆØ²ÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡ (Ø¸Ø±ÙˆÙØŒ Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²ÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… Ø¨Ø§ØºØ¨Ø§Ù†ÛŒ (Ù„ÙˆØ§Ø²Ù… Ø¨Ø§ØºØ¨Ø§Ù†ÛŒØŒ Ù†Ù‡Ø§Ù„)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø­ÛŒÙˆØ§Ù†Ø§Øª Ø®Ø§Ù†Ú¯ÛŒ (Ø­ÛŒÙˆØ§Ù†Ø§ØªØŒ ØºØ°Ø§ÛŒ Ø­ÛŒÙˆØ§Ù†Ø§Øª)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¯ÙˆÚ†Ø±Ø®Ù‡ Ùˆ Ø§Ø³Ú©ÙˆØªØ± (Ø¯ÙˆÚ†Ø±Ø®Ù‡ØŒ Ø§Ø³Ú©ÙˆØªØ±ØŒ Ù„ÙˆØ§Ø²Ù…)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§Ø¨Ø²Ø§Ø±Ø¢Ù„Ø§Øª (Ø§Ø¨Ø²Ø§Ø± ØµÙ†Ø¹ØªÛŒØŒ Ø¯Ø³ØªÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ùˆ Ú¯ÛŒÙ… (Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±ØŒ Ú©Ù†Ø³ÙˆÙ„ Ø¨Ø§Ø²ÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„Ø¨Ø§Ø³ Ø¹Ø±ÙˆØ³ Ùˆ Ù…Ø±Ø§Ø³Ù…",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ú©Ø§Ø¯Ùˆ Ùˆ Ù‡Ø¯ÛŒÙ‡",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª ÙØ±Ù‡Ù†Ú¯ÛŒ (Ø³ÛŒ Ø¯ÛŒØŒ Ø¯ÛŒ ÙˆÛŒ Ø¯ÛŒØŒ Ø¢Ø«Ø§Ø± Ù‡Ù†Ø±ÛŒ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø³Øªâ€ŒØ¯ÙˆÙ…",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø³Ù„Ø§Ù…Øª Ùˆ ØªÙ†Ø¯Ø±Ø³ØªÛŒ",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø±ÙˆØ³ØªØ§ÛŒÛŒ Ùˆ Ù…Ø­Ù„ÛŒ"
    ],
    "âœ‚ï¸ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ùˆ Ø¢Ø±Ø§ÛŒØ´ÛŒ": [
        "Ø¢Ø±Ø§ÛŒØ´Ú¯Ø§Ù‡ Ù…Ø±Ø¯Ø§Ù†Ù‡ (Ø¢Ø±Ø§ÛŒØ´Ú¯Ø§Ù‡ØŒ Ø§ØµÙ„Ø§Ø­)",
        "Ø¢Ø±Ø§ÛŒØ´Ú¯Ø§Ù‡ Ø²Ù†Ø§Ù†Ù‡ (Ø¢Ø±Ø§ÛŒØ´ØŒ Ø±Ù†Ú¯ Ù…Ùˆ)",
        "Ø³Ø§Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ùˆ Ø§Ø³Ù¾Ø§ (Ø§Ø³Ù¾Ø§ØŒ Ù…Ø§Ø³Ø§Ú˜)",
        "Ù…Ú˜Ù‡ Ùˆ Ø§Ø¨Ø±Ùˆ (Ø§Ú©Ø³ØªÙ†Ø´Ù† Ù…Ú˜Ù‡ØŒ Ù…ÛŒÚ©Ø±ÙˆØ¨Ù„ÛŒØ¯ÛŒÙ†Ú¯)",
        "Ù†Ø§Ø®Ù†â€ŒÚ©Ø§Ø±ÛŒ (Ù…Ø§Ù†ÛŒÚ©ÙˆØ±ØŒ Ù¾Ø¯ÛŒÚ©ÙˆØ±ØŒ Ù†Ø§Ø®Ù† Ù…ØµÙ†ÙˆØ¹ÛŒ)",
        "ØªØªÙˆ Ùˆ Ù…ÛŒÚ©Ø±ÙˆÙ¾ÛŒÚ¯Ù…Ù†ØªÛŒØ´Ù† (ØªØ§ØªÙˆØŒ Ù…ÛŒÚ©Ø±ÙˆÙ¾ÛŒÚ¯Ù…Ù†ØªÛŒØ´Ù†)",
        "Ø³Ø§Ù„Ù†â€ŒÙ‡Ø§ÛŒ ØªØ§ØªÙˆ Ùˆ Ù¾ÛŒØ±Ø³ÛŒÙ†Ú¯ (Ù¾ÛŒØ±Ø³ÛŒÙ†Ú¯ØŒ ØªØ§ØªÙˆ Ø­Ù†Ø§ÛŒÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù¾ÙˆØ³Øª Ùˆ Ù…Ùˆ (Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù¾ÙˆØ³ØªØŒ Ù„ÛŒØ²Ø±)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… Ø¢Ø±Ø§ÛŒØ´ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø§Ø³Ø§Ú˜ Ùˆ Ø±ÛŒÙ„Ú©Ø³ÛŒØ´Ù† (Ù…Ø§Ø³Ø§Ú˜ Ø¯Ø±Ù…Ø§Ù†ÛŒØŒ Ø±ÛŒÙ„Ú©Ø³ÛŒØ´Ù†)",
        "Ù…Ø±Ø§Ú©Ø² Ø§Ù¾ÛŒÙ„Ø§Ø³ÛŒÙˆÙ† Ùˆ Ù„ÛŒØ²Ø±",
        "Ø³Ø§Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ù†Ø²Ù‡ Ú©Ø±Ø¯Ù†",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø´Ø§ÙˆØ±Ù‡ Ø²ÛŒØ¨Ø§ÛŒÛŒ",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø±Ø§ÛŒØ´Ú¯Ø±ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡"
    ],
    "ğŸ¥ Ø¯Ø±Ù…Ø§Ù† Ùˆ Ø³Ù„Ø§Ù…Øª": [
        "Ø¨ÛŒÙ…Ø§Ø±Ø³ØªØ§Ù† Ùˆ Ù…Ø±Ø§Ú©Ø² Ø¯Ø±Ù…Ø§Ù†ÛŒ (Ø¹Ù…ÙˆÙ…ÛŒØŒ ØªØ®ØµØµÛŒØŒ Ø®ØµÙˆØµÛŒ)",
        "Ø¯Ø±Ù…Ø§Ù†Ú¯Ø§Ù‡ Ùˆ Ú©Ù„ÛŒÙ†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ (Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ØŒ Ø²Ù†Ø§Ù†ØŒ Ù‚Ù„Ø¨)",
        "Ø¯Ø§Ø±ÙˆØ®Ø§Ù†Ù‡ (Ø´Ø¨Ø§Ù†Ù‡â€ŒØ±ÙˆØ²ÛŒØŒ Ú¯ÛŒØ§Ù‡ÛŒ)",
        "Ø¯Ù†Ø¯Ø§Ù†â€ŒÙ¾Ø²Ø´Ú©ÛŒ Ùˆ Ø§Ø±ØªÙˆØ¯Ù†Ø³ÛŒ (Ø¹Ù…ÙˆÙ…ÛŒØŒ ØªØ®ØµØµÛŒØŒ Ø²ÛŒØ¨Ø§ÛŒÛŒ)",
        "Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ù¾Ø²Ø´Ú©ÛŒ Ùˆ Ø±Ø§Ø¯ÛŒÙˆÙ„ÙˆÚ˜ÛŒ (Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ØŒ Ø³ÙˆÙ†ÙˆÚ¯Ø±Ø§ÙÛŒ)",
        "Ú©Ù„ÛŒÙ†ÛŒÚ© Ø²ÛŒØ¨Ø§ÛŒÛŒ Ùˆ Ù„ÛŒØ²Ø± (Ù„ÛŒØ²Ø±ØŒ Ø¨ÙˆØªØ§Ú©Ø³ØŒ Ú˜Ù„)",
        "Ù…Ø±Ø§Ú©Ø² ÙÛŒØ²ÛŒÙˆØªØ±Ø§Ù¾ÛŒ Ùˆ Ú©Ø§Ø±Ø¯Ø±Ù…Ø§Ù†ÛŒ (ÙÛŒØ²ÛŒÙˆØªØ±Ø§Ù¾ÛŒØŒ Ú©Ø§Ø±Ø¯Ø±Ù…Ø§Ù†ÛŒ)",
        "Ø¯Ø§Ù…Ù¾Ø²Ø´Ú©ÛŒ Ùˆ Ú©Ù„ÛŒÙ†ÛŒÚ© Ø­ÛŒÙˆØ§Ù†Ø§Øª (Ø¯Ø§Ù…Ù¾Ø²Ø´Ú©ÛŒØŒ Ø­ÛŒÙˆØ§Ù†Ø§Øª Ø®Ø§Ù†Ú¯ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² ØªÙˆØ§Ù†Ø¨Ø®Ø´ÛŒ (ØªÙˆØ§Ù†Ø¨Ø®Ø´ÛŒØŒ Ú¯ÙØªØ§Ø±Ø¯Ø±Ù…Ø§Ù†ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø´Ø§ÙˆØ±Ù‡ Ùˆ Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ (Ù…Ø´Ø§ÙˆØ±Ù‡ØŒ Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ)",
        "Ø´Ù†ÙˆØ§ÛŒÛŒâ€ŒØ³Ù†Ø¬ÛŒ Ùˆ Ø³Ù…Ø¹Ú© (Ø³Ù…Ø¹Ú©ØŒ Ø´Ù†ÙˆØ§ÛŒÛŒâ€ŒØ³Ù†Ø¬ÛŒ)",
        "Ø¨ÛŒÙ†Ø§ÛŒÛŒâ€ŒØ³Ù†Ø¬ÛŒ Ùˆ Ø¹ÛŒÙ†Ú©â€ŒØ³Ø§Ø²ÛŒ (Ø¨ÛŒÙ†Ø§ÛŒÛŒâ€ŒØ³Ù†Ø¬ÛŒØŒ Ø¹ÛŒÙ†Ú©â€ŒØ³Ø§Ø²ÛŒ)",
        "Ù¾Ø±Ø³ØªØ§Ø±ÛŒ Ø¯Ø± Ù…Ù†Ø²Ù„ (Ù¾Ø±Ø³ØªØ§Ø±ØŒ Ù¾Ø²Ø´Ú© Ø¯Ø± Ù…Ù†Ø²Ù„)",
        "ØªØ¬Ù‡ÛŒØ²Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ (ÙØ±ÙˆØ´ØŒ Ø§Ø¬Ø§Ø±Ù‡)",
        "Ù…Ø±Ø§Ú©Ø² Ø§Ù‡Ø¯Ø§ÛŒ Ø®ÙˆÙ†",
        "Ù…Ø±Ø§Ú©Ø² Ø·Ø¨ Ø³Ù†ØªÛŒ Ùˆ Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¯Ø§Ø±ÙˆÛŒÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø§Ø³Ø§Ú˜ Ø¯Ø±Ù…Ø§Ù†ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² ØªØ±Ú© Ø§Ø¹ØªÛŒØ§Ø¯",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù¾Ø±Ø³ØªØ§Ø±ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ Ø³ÛŒØ§Ø±",
        "Ù…Ø±Ø§Ú©Ø² ØªØµÙˆÛŒØ±Ø¨Ø±Ø¯Ø§Ø±ÛŒ Ù¾Ø²Ø´Ú©ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ ÙˆØ±Ø²Ø´ÛŒ"
    ],
    "âš½ ÙˆØ±Ø²Ø´ Ùˆ Ø³Ø±Ú¯Ø±Ù…ÛŒ": [
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡ ÙˆØ±Ø²Ø´ÛŒ Ùˆ Ø¨Ø¯Ù†Ø³Ø§Ø²ÛŒ (Ø¨Ø¯Ù†Ø³Ø§Ø²ÛŒØŒ Ú©Ø±Ø§Ø³ÙÛŒØª)",
        "Ø§Ø³ØªØ®Ø± Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ù‡ ÙˆØ±Ø²Ø´ÛŒ (Ø§Ø³ØªØ®Ø±ØŒ Ø³ÙˆÙ†Ø§ØŒ Ø¬Ú©ÙˆØ²ÛŒ)",
        "Ø³Ø§Ù„Ù† ÙÙˆØªØ³Ø§Ù„ Ùˆ Ø¨Ø³Ú©ØªØ¨Ø§Ù„ (ÙÙˆØªØ³Ø§Ù„ØŒ Ø¨Ø³Ú©ØªØ¨Ø§Ù„ØŒ ÙˆØ§Ù„ÛŒØ¨Ø§Ù„)",
        "Ø³ÛŒÙ†Ù…Ø§ Ùˆ ØªØ¦Ø§ØªØ± (Ø³ÛŒÙ†Ù…Ø§ØŒ ØªØ¦Ø§ØªØ±ØŒ Ù†Ù…Ø§ÛŒØ´)",
        "Ø´Ù‡Ø±Ø¨Ø§Ø²ÛŒ Ùˆ Ù¾Ø§Ø±Ú© Ø¨Ø§Ø²ÛŒ (Ø´Ù‡Ø±Ø¨Ø§Ø²ÛŒØŒ Ù¾Ø§Ø±Ú© Ø¨Ø§Ø²ÛŒ)",
        "Ø¨ÛŒÙ„ÛŒØ§Ø±Ø¯ Ùˆ Ø¨ÙˆÙ„ÛŒÙ†Ú¯ (Ø¨ÛŒÙ„ÛŒØ§Ø±Ø¯ØŒ Ø¨ÙˆÙ„ÛŒÙ†Ú¯ØŒ Ø¯Ø§Ø±Øª)",
        "Ù…Ø±Ø§Ú©Ø² ØªÙØ±ÛŒØ­ÛŒ Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ (ØªÙØ±ÛŒØ­ÛŒØŒ Ø¨Ø§Ø²ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² ÙØ±Ù‡Ù†Ú¯ÛŒ Ùˆ Ù‡Ù†Ø±ÛŒ (ÙØ±Ù‡Ù†Ú¯ÛŒØŒ Ù‡Ù†Ø±ÛŒ)",
        "Ø³Ø§Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ù†Ø³Ø±Øª Ùˆ Ù†Ù…Ø§ÛŒØ´ (Ú©Ù†Ø³Ø±ØªØŒ Ù†Ù…Ø§ÛŒØ´)",
        "Ú¯ÛŒÙ…â€ŒÙ†Øª Ùˆ Ù…Ø±Ø§Ú©Ø² Ø¨Ø§Ø²ÛŒ (Ú¯ÛŒÙ…â€ŒÙ†ØªØŒ Ø¨Ø§Ø²ÛŒ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±ÛŒ)",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡ ØªÛŒØ±Ø§Ù†Ø¯Ø§Ø²ÛŒ (ØªÛŒØ±Ø§Ù†Ø¯Ø§Ø²ÛŒØŒ Ú©Ù…Ø§Ù†â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ)",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡ Ø³ÛŒÙ†Ù…Ø§ Ùˆ Ø®Ø§Ù†Ù‡ ÙÛŒÙ„Ù…",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ÛŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ (Ø¢Ù…ÙˆØ²Ø´ Ù…ÙˆØ³ÛŒÙ‚ÛŒØŒ Ù†ÙˆØ§Ø²Ù†Ø¯Ú¯ÛŒ)",
        "Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ (Ø¹Ù…ÙˆÙ…ÛŒØŒ ØªØ®ØµØµÛŒ)",
        "Ù†Ú¯Ø§Ø±Ø®Ø§Ù†Ù‡ Ùˆ Ù†Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ Ù‡Ù†Ø±ÛŒ (Ù†Ú¯Ø§Ø±Ø®Ø§Ù†Ù‡ØŒ Ù†Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡)",
        "Ù…Ø±Ø§Ú©Ø² Ø¨Ø§Ø²ÛŒ Ø§ØªØ§Ù‚ ÙØ±Ø§Ø±",
        "Ù…Ø±Ø§Ú©Ø² Ù¾ÛŒÙ†Øª Ø¨Ø§Ù„ Ùˆ Ù„ÛŒØ²Ø±ØªÚ¯",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø±Ù‚Øµ Ùˆ Ø¨Ø§Ù„Ù‡",
        "Ù…Ø±Ø§Ú©Ø² ÛŒÙˆÚ¯Ø§ Ùˆ Ù…Ø¯ÛŒØªÛŒØ´Ù†",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´â€ŒÙ‡Ø§ÛŒ Ø±Ø²Ù…ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø§Ø³Ú©ÛŒØª Ùˆ Ø±ÙˆÙ„Ø±",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨ÙˆÚ©Ø³ Ùˆ Ù‡Ù†Ø±Ù‡Ø§ÛŒ Ø±Ø²Ù…ÛŒ ØªØ±Ú©ÛŒØ¨ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² ÙˆØ±Ø²Ø´â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ÛŒ",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ù„Ù Ùˆ ØªÙ†ÛŒØ³",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø§Ù‡ÛŒÚ¯ÛŒØ±ÛŒ Ùˆ Ø´Ú©Ø§Ø±",
        "Ø¨Ø§Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÙˆØ§Ø±Ú©Ø§Ø±ÛŒ"
    ],
    "ğŸ¨ Ø§Ù‚Ø§Ù…Øª Ùˆ Ø³ÙØ±": [
        "Ù‡ØªÙ„ Ùˆ Ù‡ØªÙ„ Ø¢Ù¾Ø§Ø±ØªÙ…Ø§Ù† (Ù‡ØªÙ„ØŒ Ù‡ØªÙ„ Ø¢Ù¾Ø§Ø±ØªÙ…Ø§Ù†)",
        "Ù…Ø³Ø§ÙØ±Ø®Ø§Ù†Ù‡ Ùˆ Ù…Ù‡Ù…Ø§Ù†Ù¾Ø°ÛŒØ± (Ù…Ø³Ø§ÙØ±Ø®Ø§Ù†Ù‡ØŒ Ù…Ù‡Ù…Ø§Ù†Ù¾Ø°ÛŒØ±)",
        "Ø§Ù‚Ø§Ù…ØªÚ¯Ø§Ù‡ Ø¨ÙˆÙ…â€ŒÚ¯Ø±Ø¯ÛŒ (Ø¨ÙˆÙ…â€ŒÚ¯Ø±Ø¯ÛŒØŒ Ø§Ù‚Ø§Ù…ØªÚ¯Ø§Ù‡ Ù…Ø­Ù„ÛŒ)",
        "ÙˆÛŒÙ„Ø§ Ùˆ Ø³ÙˆØ¦ÛŒØª Ø§Ø¬Ø§Ø±Ù‡â€ŒØ§ÛŒ (ÙˆÛŒÙ„Ø§ØŒ Ø³ÙˆØ¦ÛŒØª)",
        "Ú©Ù…Ù¾ÛŒÙ†Ú¯ Ùˆ Ø§Ø±Ø¯ÙˆÚ¯Ø§Ù‡ (Ú©Ù…Ù¾ÛŒÙ†Ú¯ØŒ Ø§Ø±Ø¯ÙˆÚ¯Ø§Ù‡)",
        "Ø¢Ú˜Ø§Ù†Ø³ Ù…Ø³Ø§ÙØ±ØªÛŒ Ùˆ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ (Ù…Ø³Ø§ÙØ±ØªÛŒØŒ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ)",
        "Ø§ÛŒØ³ØªÚ¯Ø§Ù‡ Ù‚Ø·Ø§Ø± Ùˆ Ø§ØªÙˆØ¨ÙˆØ³ (Ù‚Ø·Ø§Ø±ØŒ Ø§ØªÙˆØ¨ÙˆØ³)",
        "ÙØ±ÙˆØ¯Ú¯Ø§Ù‡ Ùˆ Ù¾Ø§ÛŒØ§Ù†Ù‡ Ù…Ø³Ø§ÙØ±ÛŒ (ÙØ±ÙˆØ¯Ú¯Ø§Ù‡ØŒ Ù¾Ø§ÛŒØ§Ù†Ù‡)",
        "Ù…Ø±Ø§Ú©Ø² Ø±Ø²Ø±ÙˆØ§Ø³ÛŒÙˆÙ† (Ø±Ø²Ø±Ùˆ Ù‡ØªÙ„ØŒ Ø¨Ù„ÛŒØ·)",
        "Ø®Ø¯Ù…Ø§Øª ÙˆÛŒØ²Ø§ Ùˆ Ù¾Ø§Ø³Ù¾ÙˆØ±Øª (ÙˆÛŒØ²Ø§ØŒ Ù¾Ø§Ø³Ù¾ÙˆØ±Øª)",
        "Ø§Ø¬Ø§Ø±Ù‡ Ø®ÙˆØ¯Ø±Ùˆ Ùˆ Ø¯ÙˆÚ†Ø±Ø®Ù‡ (Ø§Ø¬Ø§Ø±Ù‡ Ù…Ø§Ø´ÛŒÙ†ØŒ Ø¯ÙˆÚ†Ø±Ø®Ù‡)",
        "Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒØ§Ù† Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ (ØªÙˆØ±Ù„ÛŒØ¯Ø±ØŒ Ø±Ø§Ù‡Ù†Ù…Ø§)",
        "Ù…Ø±Ø§Ú©Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª ØªØ±Ø¬Ù…Ù‡ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù…Ø­Ù„ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ú©Ø±Ø§ÛŒÙ‡ Ø§ØªÙˆÙ…Ø¨ÛŒÙ„",
        "Ø®Ø¯Ù…Ø§Øª Ø§Ù†ØªÙ‚Ø§Ù„ Ù…Ø³Ø§ÙØ± (Ø­Ù…Ù„ Ùˆ Ù†Ù‚Ù„ØŒ ØªØ±Ø§Ù†Ø³ÙØ±)",
        "Ù…Ø±Ø§Ú©Ø² Ø±Ø²Ø±ÙˆØ§Ø³ÛŒÙˆÙ† Ø¢Ù†Ù„Ø§ÛŒÙ†",
        "Ø®Ø¯Ù…Ø§Øª Ø¨ÛŒÙ…Ù‡ Ù…Ø³Ø§ÙØ±ØªÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø¬Ù‡Ø§Ù†Ú¯Ø±Ø¯ÛŒ"
    ],
    "ğŸ›ï¸ Ø®Ø¯Ù…Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ Ùˆ Ø§Ø¯Ø§Ø±ÛŒ": [
        "Ø¨Ø§Ù†Ú© Ùˆ Ø®ÙˆØ¯Ù¾Ø±Ø¯Ø§Ø² (Ø¨Ø§Ù†Ú©ØŒ ØµØ±Ø§ÙÛŒ)",
        "Ø§Ø¯Ø§Ø±Ù‡ Ù¾Ø³Øª (Ù¾Ø³ØªØŒ Ù¾ÛŒÚ© Ù…ÙˆØªÙˆØ±ÛŒ)",
        "Ø¯ÙØ§ØªØ± Ù¾ÛŒØ´Ø®ÙˆØ§Ù† Ø®Ø¯Ù…Ø§Øª Ø¯ÙˆÙ„Øª (Ù¾ÛŒØ´Ø®ÙˆØ§Ù†ØŒ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©)",
        "Ø´Ù‡Ø±Ø¯Ø§Ø±ÛŒ Ùˆ Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø´Ù‡Ø±ÛŒ (Ø´Ù‡Ø±Ø¯Ø§Ø±ÛŒØŒ Ø®Ø¯Ù…Ø§Øª Ø´Ù‡Ø±ÛŒ)",
        "Ø§Ø¯Ø§Ø±Ù‡ Ø¨Ø±Ù‚ØŒ Ø¢Ø¨ØŒ Ú¯Ø§Ø² (Ø¨Ø±Ù‚ØŒ Ø¢Ø¨ØŒ Ú¯Ø§Ø²)",
        "Ù¾Ù„ÛŒØ³ +Û±Û° Ùˆ Ù…Ø±Ø§Ú©Ø² Ø§Ù†ØªØ¸Ø§Ù…ÛŒ (Ù¾Ù„ÛŒØ³ØŒ Ø§Ù†ØªØ¸Ø§Ù…ÛŒ)",
        "Ø¯Ø§Ø¯Ú¯Ø§Ù‡ Ùˆ Ù…Ø±Ø§Ø¬Ø¹ Ù‚Ø¶Ø§ÛŒÛŒ (Ø¯Ø§Ø¯Ú¯Ø§Ù‡ØŒ Ù‚Ø¶Ø§ÛŒÛŒ)",
        "Ú©Ù„Ø§Ù†ØªØ±ÛŒ Ùˆ Ù¾Ø§Ø³Ú¯Ø§Ù‡ (Ú©Ù„Ø§Ù†ØªØ±ÛŒØŒ Ù¾Ø§Ø³Ú¯Ø§Ù‡)",
        "Ø¯ÙØ§ØªØ± Ø§Ø³Ù†Ø§Ø¯ Ø±Ø³Ù…ÛŒ (Ø§Ø³Ù†Ø§Ø¯ Ø±Ø³Ù…ÛŒØŒ Ø¯ÙØªØ±Ø®Ø§Ù†Ù‡)",
        "Ù…Ø±Ø§Ú©Ø² ØµØ¯ÙˆØ± Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ (Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ØŒ Ù…Ø¯Ø§Ø±Ú©)",
        "Ø§Ø¯Ø§Ø±Ø§Øª Ø¯ÙˆÙ„ØªÛŒ Ùˆ ÙˆØ²Ø§Ø±ØªØ®Ø§Ù†Ù‡â€ŒÙ‡Ø§ (Ø¯ÙˆÙ„ØªÛŒØŒ ÙˆØ²Ø§Ø±ØªØ®Ø§Ù†Ù‡)",
        "Ú©Ù†Ø³ÙˆÙ„Ú¯Ø±ÛŒ Ùˆ Ø³ÙØ§Ø±ØªØ®Ø§Ù†Ù‡â€ŒÙ‡Ø§ (Ø³ÙØ§Ø±ØªØŒ Ú©Ù†Ø³ÙˆÙ„Ú¯Ø±ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© (Ø®Ø¯Ù…Ø§Øª Ø¢Ù†Ù„Ø§ÛŒÙ†ØŒ Ø¯ÙˆÙ„Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©)",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø´ØºÙ„ÛŒ",
        "Ø¯ÙØ§ØªØ± Ø®Ø¯Ù…Ø§Øª Ù…Ø³Ú©Ù† Ùˆ Ø§Ù…Ù„Ø§Ú©",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø­Ù‚ÙˆÙ‚ÛŒ Ùˆ Ù‚Ø¶Ø§ÛŒÛŒ",
        "Ø¯ÙØ§ØªØ± Ø®Ø¯Ù…Ø§Øª Ù…Ù‡Ø§Ø¬Ø±ØªÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù…Ø§Ù„ÛŒ Ùˆ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ",
        "Ø¯ÙØ§ØªØ± Ø®Ø¯Ù…Ø§Øª Ø¨ÛŒÙ…Ù‡â€ŒØ§ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ø´Ù‡Ø±ÛŒ",
        "Ø¯ÙØ§ØªØ± Ø®Ø¯Ù…Ø§Øª Ù¾ÛŒÙ…Ø§Ù†Ú©Ø§Ø±ÛŒ"
    ],
    "ğŸš— Ø®Ø¯Ù…Ø§Øª Ø´Ù‡Ø±ÛŒ Ùˆ Ø­Ù…Ù„â€ŒÙˆÙ†Ù‚Ù„": [
        "Ù¾Ù…Ù¾ Ø¨Ù†Ø²ÛŒÙ† Ùˆ CNG (Ø¨Ù†Ø²ÛŒÙ†ØŒ Ú¯Ø§Ø²)",
        "Ú©Ø§Ø±ÙˆØ§Ø´ Ùˆ Ø®Ø¯Ù…Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ (Ú©Ø§Ø±ÙˆØ§Ø´ØŒ Ø¨Ø±Ø§Ù‚â€ŒØ³Ø§Ø²ÛŒ)",
        "ØªØ¹Ù…ÛŒØ±Ú¯Ø§Ù‡ Ø®ÙˆØ¯Ø±Ùˆ Ùˆ Ù…ÙˆØªÙˆØ±Ø³ÛŒÚ©Ù„Øª (ØªØ¹Ù…ÛŒØ±Ú¯Ø§Ù‡ØŒ Ù…Ú©Ø§Ù†ÛŒÚ©ÛŒ)",
        "ØªØ§Ú©Ø³ÛŒâ€ŒØ³Ø±ÙˆÛŒØ³ Ùˆ ØªØ§Ú©Ø³ÛŒ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ (ØªØ§Ú©Ø³ÛŒØŒ Ø§Ø³Ù†Ù¾)",
        "Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯ Ø¹Ù…ÙˆÙ…ÛŒ (Ù¾Ø§Ø±Ú©ÛŒÙ†Ú¯ØŒ Ø¬Ø§ÛŒ Ù¾Ø§Ø±Ú©)",
        "Ù…Ú©Ø§Ù†ÛŒÚ©ÛŒ Ùˆ Ø¨Ø±Ù‚ Ø®ÙˆØ¯Ø±Ùˆ (Ù…Ú©Ø§Ù†ÛŒÚ©ØŒ Ø¨Ø±Ù‚ Ø®ÙˆØ¯Ø±Ùˆ)",
        "Ù„Ø§Ø³ØªÛŒÚ©â€ŒÙØ±ÙˆØ´ÛŒ Ùˆ ÙØ±ÙˆØ´ Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ (Ù„Ø§Ø³ØªÛŒÚ©ØŒ Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ù†Ù‚Ø§Ø´ÛŒ Ùˆ ØªØ±Ù…ÛŒÙ… Ø®ÙˆØ¯Ø±Ùˆ (Ù†Ù‚Ø§Ø´ÛŒØŒ ØªØ±Ù…ÛŒÙ…)",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø¹Ø§ÛŒÙ†Ù‡ ÙÙ†ÛŒ (Ù…Ø¹Ø§ÛŒÙ†Ù‡ ÙÙ†ÛŒØŒ ØªØ³Øª Ø®ÙˆØ¯Ø±Ùˆ)",
        "Ø®Ø¯Ù…Ø§Øª Ø§Ù…Ø¯Ø§Ø¯ Ø®ÙˆØ¯Ø±Ùˆ (Ø®Ø¯Ù…Ø§Øª Ø§Ù…Ø¯Ø§Ø¯ÛŒØŒ ÛŒØ¯Ú©â€ŒÚ©Ø´)",
        "Ù†Ù…Ø§ÛŒÙ†Ø¯Ú¯ÛŒ Ø®ÙˆØ¯Ø±Ùˆ (Ù†Ù…Ø§ÛŒÙ†Ø¯Ú¯ÛŒØŒ ÙØ±ÙˆØ´ Ø®ÙˆØ¯Ø±Ùˆ)",
        "ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… Ø¬Ø§Ù†Ø¨ÛŒ Ø®ÙˆØ¯Ø±Ùˆ (Ù„ÙˆØ§Ø²Ù… Ø¬Ø§Ù†Ø¨ÛŒØŒ ØªØ²Ø¦ÛŒÙ†Ø§Øª)",
        "Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÛŒÙ… Ù…ÙˆØªÙˆØ± Ùˆ Ø§Ù†Ú˜Ú©ØªÙˆØ±",
        "Ø®Ø¯Ù…Ø§Øª ØµØ§ÙÚ©Ø§Ø±ÛŒ Ùˆ Ø¬Ù„ÙˆØ¨Ù†Ø¯ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹ÙˆÛŒØ¶ Ø±ÙˆØºÙ† Ùˆ ÙÛŒÙ„ØªØ±",
        "Ø®Ø¯Ù…Ø§Øª Ø³ÛŒØ³ØªÙ… ØªÙ‡ÙˆÛŒÙ‡ Ùˆ Ú©ÙˆÙ„Ø±",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª ØªØ®ØµØµÛŒ Ø®ÙˆØ¯Ø±Ùˆ",
        "Ø®Ø¯Ù…Ø§Øª Ú©Ø§Ø±Øªâ€ŒØ®ÙˆØ§Ù† Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª",
        "Ø®Ø¯Ù…Ø§Øª Ù¾Ø®Ø´ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø®ÙˆØ¯Ø±ÙˆÛŒÛŒ",
        "Ø®Ø¯Ù…Ø§Øª Ø­Ù…Ù„ Ùˆ Ù†Ù‚Ù„ Ù…Ø¹Ù„ÙˆÙ„ÛŒÙ† Ùˆ Ø³Ø§Ù„Ù…Ù†Ø¯Ø§Ù†"
    ],
    "ğŸ“š Ø¢Ù…ÙˆØ²Ø´ Ùˆ ÙØ±Ù‡Ù†Ú¯": [
        "Ù…Ø¯Ø±Ø³Ù‡ Ùˆ Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡ (Ø¯Ø¨Ø³ØªØ§Ù†ØŒ Ø¯Ø¨ÛŒØ±Ø³ØªØ§Ù†)",
        "Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ùˆ Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø¹Ø§Ù„ÛŒ (Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ØŒ Ù…ÙˆØ³Ø³Ù‡ Ø¢Ù…ÙˆØ²Ø´ Ø¹Ø§Ù„ÛŒ)",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡ Ø²Ø¨Ø§Ù† (Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒØŒ Ø³Ø§ÛŒØ± Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§)",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡ ÙÙ†ÛŒâ€ŒÙˆØ­Ø±ÙÙ‡â€ŒØ§ÛŒ (ÙÙ†ÛŒØŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ)",
        "Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ (Ø¹Ù…ÙˆÙ…ÛŒØŒ ØªØ®ØµØµÛŒ)",
        "ÙØ±Ù‡Ù†Ú¯Ø³Ø±Ø§ Ùˆ Ø®Ø§Ù†Ù‡ ÙØ±Ù‡Ù†Ú¯ (ÙØ±Ù‡Ù†Ú¯Ø³Ø±Ø§ØŒ Ø®Ø§Ù†Ù‡ ÙØ±Ù‡Ù†Ú¯)",
        "Ù…ÙˆØ²Ù‡ Ùˆ Ú¯Ø§Ù„Ø±ÛŒ (Ù…ÙˆØ²Ù‡ØŒ Ú¯Ø§Ù„Ø±ÛŒ Ù‡Ù†Ø±ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ÛŒ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± (Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±ØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ­ØµÛŒÙ„ÛŒ (Ù…Ø´Ø§ÙˆØ±Ù‡ØŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡)",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡Ù†Ø±ÛŒ (Ù†Ù‚Ø§Ø´ÛŒØŒ Ù…Ø¬Ø³Ù…Ù‡â€ŒØ³Ø§Ø²ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒ (Ø¢Ù…ÙˆØ²Ø´ Ø±Ø§Ù†Ù†Ø¯Ú¯ÛŒØŒ Ø¢ÛŒÛŒÙ†â€ŒÙ†Ø§Ù…Ù‡)",
        "Ù…Ù‡Ø¯Ú©ÙˆØ¯Ú© Ùˆ Ù¾ÛŒØ´â€ŒØ¯Ø¨Ø³ØªØ§Ù†ÛŒ (Ù…Ù‡Ø¯Ú©ÙˆØ¯Ú©ØŒ Ù¾ÛŒØ´â€ŒØ¯Ø¨Ø³ØªØ§Ù†ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø¹Ù„ÙˆÙ… Ù…Ø®ØªÙ„Ù (Ø±ÛŒØ§Ø¶ÛŒØŒ ÙÛŒØ²ÛŒÚ©ØŒ Ø´ÛŒÙ…ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ù…Ù‡Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø´Ù¾Ø²ÛŒ Ùˆ Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒÙ¾Ø²ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø®Ù„Ø§Ù‚ÛŒØª Ú©ÙˆØ¯Ú©Ø§Ù†",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†Ú©ÙˆØ± Ùˆ Ø¢Ø²Ù…ÙˆÙ†",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø§Ø² Ø±Ø§Ù‡ Ø¯ÙˆØ±",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ø§Ø±Øªâ€ŒØ¢Ù…ÙˆØ²ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ ØµÙ†Ø§ÛŒØ¹ Ø¯Ø³ØªÛŒ",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÛŒØ§Ø·ÛŒ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù„Ø¨Ø§Ø³",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø¹Ú©Ø§Ø³ÛŒ Ùˆ ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ±Ø²Ø´ÛŒ ØªØ®ØµØµÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù…Ø­Ù„ÛŒ",
        "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø²Ø¨Ø§Ù† Ø§Ø´Ø§Ø±Ù‡",
        "Ø®Ø¯Ù…Ø§Øª Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¬Ø§Ø²ÛŒ Ùˆ Ø¢Ù†Ù„Ø§ÛŒÙ†"
    ],
    "ğŸ•Œ Ù…Ø°Ù‡Ø¨ÛŒ Ùˆ Ù…Ø¹Ù†ÙˆÛŒ": [
        "Ù…Ø³Ø¬Ø¯ Ùˆ Ù…ØµÙ„ÛŒ (Ù…Ø³Ø¬Ø¯ØŒ Ù…ØµÙ„ÛŒ)",
        "Ø­Ø³ÛŒÙ†ÛŒÙ‡ Ùˆ Ù‡ÛŒØ¦Øª (Ø­Ø³ÛŒÙ†ÛŒÙ‡ØŒ Ù‡ÛŒØ¦Øª)",
        "Ú©Ù„ÛŒØ³Ø§ Ùˆ Ù…Ø±Ø§Ú©Ø² Ù…Ø³ÛŒØ­ÛŒ (Ú©Ù„ÛŒØ³Ø§ØŒ Ù…Ø±Ø§Ú©Ø² Ù…Ø³ÛŒØ­ÛŒ)",
        "Ú©Ù†ÛŒØ³Ù‡ Ùˆ Ù…Ø±Ø§Ú©Ø² ÛŒÙ‡ÙˆØ¯ÛŒ (Ú©Ù†ÛŒØ³Ù‡ØŒ Ù…Ø±Ø§Ú©Ø² ÛŒÙ‡ÙˆØ¯ÛŒ)",
        "Ù…Ø¹Ø§Ø¨Ø¯ Ùˆ Ù¾Ø±Ø³ØªØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ (Ù…Ø¹Ø¨Ø¯ØŒ Ù¾Ø±Ø³ØªØ´Ú¯Ø§Ù‡)",
        "Ù…Ø±Ø§Ú©Ø² Ø¹Ø±ÙØ§Ù†ÛŒ Ùˆ Ù…Ø¹Ù†ÙˆÛŒ (Ø¹Ø±ÙØ§Ù†ÛŒØŒ Ù…Ø¹Ù†ÙˆÛŒ)",
        "Ú©ØªØ§Ø¨ÙØ±ÙˆØ´ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø°Ù‡Ø¨ÛŒ (Ú©ØªØ§Ø¨ Ù…Ø°Ù‡Ø¨ÛŒØŒ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ù…Ø°Ù‡Ø¨ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø®ÛŒØ±ÛŒÙ‡ Ùˆ Ù†ÛŒÚ©ÙˆÚ©Ø§Ø±ÛŒ (Ø®ÛŒØ±ÛŒÙ‡ØŒ Ù†ÛŒÚ©ÙˆÚ©Ø§Ø±ÛŒ)",
        "Ø§Ù†ØªØ´Ø§Ø±Ø§Øª Ù…Ø°Ù‡Ø¨ÛŒ (Ø§Ù†ØªØ´Ø§Ø±Ø§ØªØŒ Ú†Ø§Ù¾ Ù…Ø°Ù‡Ø¨ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø­ÙØ¸ Ù‚Ø±Ø¢Ù† Ùˆ Ù…Ø¹Ø§Ø±Ù Ø§Ø³Ù„Ø§Ù…ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø­Ø¬ Ùˆ Ø²ÛŒØ§Ø±Øª",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…Ø°Ù‡Ø¨ÛŒ Ùˆ Ø¯ÛŒÙ†ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø§Ø­Ú©Ø§Ù… Ùˆ Ù…Ø¹Ø§Ø±Ù",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø§ÙˆÙ‚Ø§Ù Ùˆ Ø§Ù…ÙˆØ± Ø®ÛŒØ±ÛŒÙ‡",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù…Ø°Ù‡Ø¨ÛŒ Ø³ÛŒØ§Ø±",
        "Ù…Ø±Ø§Ú©Ø² Ø¨Ø±Ú¯Ø²Ø§Ø±ÛŒ Ù…Ø±Ø§Ø³Ù… Ù…Ø°Ù‡Ø¨ÛŒ"
    ],
    "ğŸŒ³ Ø·Ø¨ÛŒØ¹Øª Ùˆ ØªÙØ±ÛŒØ­ Ø¢Ø²Ø§Ø¯": [
        "Ù¾Ø§Ø±Ú© Ùˆ Ø¨ÙˆØ³ØªØ§Ù† (Ù¾Ø§Ø±Ú© Ø¹Ù…ÙˆÙ…ÛŒØŒ Ø¨ÙˆØ³ØªØ§Ù†)",
        "Ø¨Ø§Øº ÙˆØ­Ø´ Ùˆ Ø¢Ú©ÙˆØ§Ø±ÛŒÙˆÙ… (Ø¨Ø§Øº ÙˆØ­Ø´ØŒ Ø¢Ú©ÙˆØ§Ø±ÛŒÙˆÙ…)",
        "Ø¨Ø§Øº Ú¯ÛŒØ§Ù‡â€ŒØ´Ù†Ø§Ø³ÛŒ (Ú¯ÛŒØ§Ù‡â€ŒØ´Ù†Ø§Ø³ÛŒØŒ Ú¯Ù„Ø®Ø§Ù†Ù‡)",
        "Ù¾ÛŒØ³Øª Ø¯ÙˆÚ†Ø±Ø®Ù‡â€ŒØ³ÙˆØ§Ø±ÛŒ (Ø¯ÙˆÚ†Ø±Ø®Ù‡â€ŒØ³ÙˆØ§Ø±ÛŒØŒ Ø¯ÙˆÚ†Ø±Ø®Ù‡ Ø³ÙˆØ§Ø±ÛŒ Ø¢ÙØ±ÙˆØ¯)",
        "Ú©ÙˆÙ‡Ø³ØªØ§Ù† Ùˆ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø·Ø¨ÛŒØ¹Øªâ€ŒÚ¯Ø±Ø¯ÛŒ (Ú©ÙˆÙ‡Ù†ÙˆØ±Ø¯ÛŒØŒ Ø·Ø¨ÛŒØ¹Øªâ€ŒÚ¯Ø±Ø¯ÛŒ)",
        "Ø³Ø§Ø­Ù„ Ùˆ Ø¯Ø±ÛŒØ§Ú†Ù‡ (Ø³Ø§Ø­Ù„ØŒ Ø¯Ø±ÛŒØ§Ú†Ù‡)",
        "Ø¢Ø¨Ø´Ø§Ø± Ùˆ Ú†Ø´Ù…Ù‡ (Ø¢Ø¨Ø´Ø§Ø±ØŒ Ú†Ø´Ù…Ù‡)",
        "Ø¬Ù†Ú¯Ù„ Ùˆ Ù…Ù†Ø·Ù‚Ù‡ Ø­ÙØ§Ø¸Øª Ø´Ø¯Ù‡ (Ø¬Ù†Ú¯Ù„ØŒ Ù…Ù†Ø·Ù‚Ù‡ Ø­ÙØ§Ø¸Øª Ø´Ø¯Ù‡)",
        "Ú©Ù…Ù¾ÛŒÙ†Ú¯ Ùˆ Ù¾ÛŒÚ©Ù†ÛŒÚ© (Ú©Ù…Ù¾ÛŒÙ†Ú¯ØŒ Ù¾ÛŒÚ©Ù†ÛŒÚ©)",
        "Ù…Ø±Ø§Ú©Ø² Ø§Ú©ÙˆØªÙˆØ±ÛŒØ³Ù… (Ø§Ú©ÙˆØªÙˆØ±ÛŒØ³Ù…ØŒ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø·Ø¨ÛŒØ¹Øª)",
        "Ù¾ÛŒØ³Øª Ø§Ø³Ú©ÛŒ Ùˆ ÙˆØ±Ø²Ø´â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø³ØªØ§Ù†ÛŒ (Ø§Ø³Ú©ÛŒØŒ ÙˆØ±Ø²Ø´ Ø²Ù…Ø³ØªØ§Ù†ÛŒ)",
        "Ø³Ø§Ù„Ù†â€ŒÙ‡Ø§ÛŒ Ø¨ÙˆÙ„Ø¯Ø±ÛŒÙ†Ú¯ Ùˆ ØµØ®Ø±Ù‡â€ŒÙ†ÙˆØ±Ø¯ÛŒ (ØµØ®Ø±Ù‡â€ŒÙ†ÙˆØ±Ø¯ÛŒØŒ Ø¨ÙˆÙ„Ø¯Ø±ÛŒÙ†Ú¯)",
        "Ù…Ø±Ø§Ú©Ø² Ù…Ø§Ù‡ÛŒÚ¯ÛŒØ±ÛŒ Ùˆ Ù‚Ø§ÛŒÙ‚â€ŒØ±Ø§Ù†ÛŒ",
        "Ù¾Ø§Ø±Ú©â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ÛŒ Ùˆ Ø§Ø³ØªØ®Ø±Ù‡Ø§ÛŒ Ø±ÙˆØ¨Ø§Ø²",
        "Ù…Ø±Ø§Ú©Ø² Ù¾Ø±Ù†Ø¯Ù‡â€ŒÙ†Ú¯Ø±ÛŒ Ùˆ Ø­ÛŒØ§Øª ÙˆØ­Ø´",
        "Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±ÙˆÛŒ Ùˆ Ú©ÙˆÙ‡Ù¾ÛŒÙ…Ø§ÛŒÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ú†Ø§Ø¯Ø±Ø²Ù†ÛŒ Ùˆ Ú©Ø§Ø±ÙˆØ§Ù†ÛŒÙ†Ú¯",
        "Ù¾Ø§Ø±Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ù„ÛŒ Ùˆ Ù…Ù†Ø§Ø·Ù‚ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø¢Ù…ÙˆØ²Ø´ Ø·Ø¨ÛŒØ¹Øªâ€ŒÚ¯Ø±Ø¯ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª ØªÙˆØ±Ù‡Ø§ÛŒ Ø·Ø¨ÛŒØ¹Øª"
    ],
    "ğŸ’¼ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ": [
        "Ø¯ÙØªØ± Ú©Ø§Ø± Ùˆ Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ (Ø¯ÙØªØ±ØŒ Ø´Ø±Ú©Øª)",
        "Ú©Ø§Ø±Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ùˆ ÙˆØ§Ø­Ø¯Ù‡Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯ÛŒ (Ú©Ø§Ø±Ø®Ø§Ù†Ù‡ØŒ ØªÙˆÙ„ÛŒØ¯ÛŒ)",
        "Ú©Ø§Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ ØµÙ†Ø¹ØªÛŒ (Ú©Ø§Ø±Ú¯Ø§Ù‡ØŒ ØµÙ†Ø¹ØªÛŒ)",
        "Ø¯ÙØ§ØªØ± Ø§Ù…Ù„Ø§Ú© Ùˆ Ù…Ø´Ø§ÙˆØ±ÛŒÙ† Ø§Ù…Ù„Ø§Ú© (Ø§Ù…Ù„Ø§Ú©ØŒ Ù…Ø´Ø§ÙˆØ± Ø§Ù…Ù„Ø§Ú©)",
        "Ø¯ÙØ§ØªØ± Ø¨ÛŒÙ…Ù‡ (Ø¨ÛŒÙ…Ù‡ØŒ Ø®Ø¯Ù…Ø§Øª Ø¨ÛŒÙ…Ù‡â€ŒØ§ÛŒ)",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ ØªØ¨Ù„ÛŒØºØ§ØªÛŒ Ùˆ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ (ØªØ¨Ù„ÛŒØºØ§ØªØŒ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø·Ø±Ø§Ø­ÛŒ Ùˆ Ú†Ø§Ù¾ (Ø·Ø±Ø§Ø­ÛŒØŒ Ú†Ø§Ù¾)",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ø¹Ù…Ø±Ø§Ù† (Ù…Ø¹Ù…Ø§Ø±ÛŒØŒ Ø¹Ù…Ø±Ø§Ù†)",
        "Ø¯ÙØ§ØªØ± Ø­Ù‚ÙˆÙ‚ÛŒ Ùˆ ÙˆÚ©Ø§Ù„Øª (Ø­Ù‚ÙˆÙ‚ÛŒØŒ ÙˆÚ©Ø§Ù„Øª)",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª (Ù…Ø´Ø§ÙˆØ±Ù‡ØŒ Ù…Ø¯ÛŒØ±ÛŒØª)",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù…Ø§Ù„ÛŒ Ùˆ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ (Ù…Ø§Ù„ÛŒØŒ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ)",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ ÙÙ†Ø§ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª (ÙÙ†Ø§ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§ØªØŒ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±)",
        "Ø§Ø³ØªÙˆØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø¹Ú©Ø§Ø³ÛŒ Ùˆ ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ (Ø¹Ú©Ø§Ø³ÛŒØŒ ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ)",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø§Ø¯Ø§Ø±ÛŒ Ùˆ Ú©Ù¾ÛŒ (Ø®Ø¯Ù…Ø§Øª Ø§Ø¯Ø§Ø±ÛŒØŒ Ú©Ù¾ÛŒ)",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ù…Ù„ Ùˆ Ù†Ù‚Ù„ Ùˆ Ø¨Ø§Ø±Ø¨Ø±ÛŒ (Ø­Ù…Ù„ Ù†Ù‚Ù„ØŒ Ø¨Ø§Ø±Ø¨Ø±ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ù†Ø¸Ø§ÙØªÛŒ Ùˆ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ (Ù†Ø¸Ø§ÙØªÛŒØŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ)",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ Ùˆ Ø§Ù†ØªØ´Ø§Ø±Ø§ØªÛŒ",
        "Ù…Ø±Ø§Ú©Ø² ØªØ­Ù‚ÛŒÙ‚Ø§ØªÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù†Ø³Ø§Ù†ÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø³Ø§ÛŒØª Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆØªÙˆØ± Ø¬Ø³ØªØ¬Ùˆ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª ØªØ±Ø¬Ù…Ù‡ Ùˆ Ù…ØªØ±Ø¬Ù…",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø¯Ù…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ÙÙ†Ø§ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª",
        "Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø¯Ù…Ø§Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ù…Ø§Ù„ÛŒØ§ØªÛŒ",
        "Ù…Ø±Ø§Ú©Ø² Ø®Ø¯Ù…Ø§Øª Ø¨Ø±Ù†Ø¯ÛŒÙ†Ú¯ Ùˆ Ù‡ÙˆÛŒØª Ø³Ø§Ø²ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø§Ù†Ø±Ú˜ÛŒ Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ"
    ],
    "ğŸ§° Ø®Ø¯Ù…Ø§Øª ØªØ®ØµØµÛŒ Ùˆ ÙÙ†ÛŒ": [
        "ØªØ¹Ù…ÛŒØ±Ú¯Ø§Ù‡ Ù„ÙˆØ§Ø²Ù… Ø®Ø§Ù†Ú¯ÛŒ (ØªØ¹Ù…ÛŒØ± Ù„ÙˆØ§Ø²Ù…ØŒ Ø³Ø±ÙˆÛŒØ³)",
        "ØªØ¹Ù…ÛŒØ±Ú¯Ø§Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± (ØªØ¹Ù…ÛŒØ± Ù…ÙˆØ¨Ø§ÛŒÙ„ØŒ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±)",
        "Ø®Ø¯Ù…Ø§Øª Ø¨Ø±Ù‚ Ø³Ø§Ø®ØªÙ…Ø§Ù† (Ø¨Ø±Ù‚â€ŒÚ©Ø§Ø±ÛŒØŒ Ø³ÛŒÙ…â€ŒÚ©Ø´ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ù„ÙˆÙ„Ù‡â€ŒÚ©Ø´ÛŒ Ùˆ ØªØ§Ø³ÛŒØ³Ø§Øª (Ù„ÙˆÙ„Ù‡â€ŒÚ©Ø´ÛŒØŒ ØªØ§Ø³ÛŒØ³Ø§Øª)",
        "Ø®Ø¯Ù…Ø§Øª Ù†Ù‚Ø§Ø´ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù† (Ù†Ù‚Ø§Ø´ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù†ØŒ Ø±Ù†Ú¯â€ŒÚ©Ø§Ø±ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ú©Ø§Ø¨ÛŒÙ†Øª Ø³Ø§Ø²ÛŒ Ùˆ Ù†Ø¬Ø§Ø±ÛŒ (Ú©Ø§Ø¨ÛŒÙ†Øªâ€ŒØ³Ø§Ø²ÛŒØŒ Ù†Ø¬Ø§Ø±ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ø¢Ù‡Ù†Ú¯Ø±ÛŒ Ùˆ Ø¬ÙˆØ´Ú©Ø§Ø±ÛŒ (Ø¢Ù‡Ù†Ú¯Ø±ÛŒØŒ Ø¬ÙˆØ´Ú©Ø§Ø±ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ú©Ù„ÛŒØ¯Ø³Ø§Ø²ÛŒ Ùˆ Ù‚ÙÙ„â€ŒØ³Ø§Ø²ÛŒ (Ú©Ù„ÛŒØ¯Ø³Ø§Ø²ÛŒØŒ Ù‚ÙÙ„â€ŒØ³Ø§Ø²ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ø´ÛŒØ´Ù‡â€ŒØ¨Ø±ÛŒ Ùˆ Ø¢ÛŒÙ†Ù‡â€ŒÚ©Ø§Ø±ÛŒ (Ø´ÛŒØ´Ù‡â€ŒØ¨Ø±ÛŒØŒ Ø¢ÛŒÙ†Ù‡â€ŒÚ©Ø§Ø±ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª ÙØ±Ø´ Ø´ÙˆÛŒÛŒ Ùˆ Ù…Ø¨Ù„ Ø´ÙˆÛŒÛŒ (ÙØ±Ø´â€ŒØ´ÙˆÛŒÛŒØŒ Ù…Ø¨Ù„â€ŒØ´ÙˆÛŒÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ù†Ø¸Ø§ÙØª Ù…Ù†Ø²Ù„ Ùˆ Ø§Ø¯Ø§Ø±Ù‡ (Ù†Ø¸Ø§ÙØªØŒ Ø®Ø¯Ù…Ø§Øª Ù†Ø¸Ø§ÙØªÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ø¨Ø§ØºØ¨Ø§Ù†ÛŒ Ùˆ ÙØ¶Ø§ÛŒ Ø³Ø¨Ø² (Ø¨Ø§ØºØ¨Ø§Ù†ÛŒØŒ ÙØ¶Ø§ÛŒ Ø³Ø¨Ø²)",
        "Ø®Ø¯Ù…Ø§Øª Ø­Ø´Ø±Ù‡â€ŒÚ©Ø´ÛŒ Ùˆ Ø¶Ø¯Ø¹ÙÙˆÙ†ÛŒ (Ø¶Ø¯Ø¹ÙÙˆÙ†ÛŒØŒ Ø³Ù…Ù¾Ø§Ø´ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ùˆ Ù†Ú¯Ù‡Ø¨Ø§Ù†ÛŒ (Ø§Ù…Ù†ÛŒØªÛŒØŒ Ù†Ú¯Ù‡Ø¨Ø§Ù†ÛŒ)",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ù„ÙˆØ§Ø²Ù… Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ ØªØ¬Ù‡ÛŒØ²Ø§Øª",
        "Ø®Ø¯Ù…Ø§Øª Ø³ÛŒÙ…â€ŒÚ©Ø´ÛŒ Ø´Ø¨Ú©Ù‡ Ùˆ Ø§ÛŒÙ†ØªØ±Ù†Øª",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª ØµÙ†Ø¹ØªÛŒ Ùˆ Ù…Ø§Ø´ÛŒÙ†â€ŒØ¢Ù„Ø§Øª",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø­ÙØ§Ø¸ØªÛŒ",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ú©ÙÙ¾ÙˆØ´ Ùˆ Ø³Ù‚Ù Ú©Ø§Ø°Ø¨",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ø§Ø¨Ø²Ø§Ø±Ø¢Ù„Ø§Øª Ø¯Ù‚ÛŒÙ‚",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ø¢Ø³Ø§Ù†Ø³ÙˆØ± Ùˆ Ù¾Ù„Ù‡ Ø¨Ø±Ù‚ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø³Ø±Ù…Ø§ÛŒØ´ÛŒ Ùˆ Ú¯Ø±Ù…Ø§ÛŒØ´ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ø¹Ù„Ø§Ù… Ø­Ø±ÛŒÙ‚",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ø§Ø¯ÙˆØ§Øª Ù…ÙˆØ³ÛŒÙ‚ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ø¯ÛŒØ´ Ùˆ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡â€ŒØ§ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª ØªØ¹Ù…ÛŒØ±Ø§Øª Ù„ÙˆØ§Ø²Ù… Ù¾Ø²Ø´Ú©ÛŒ",
        "Ø®Ø¯Ù…Ø§Øª Ù†ØµØ¨ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø³Ø§Ø®ØªÙ…Ø§Ù†",
        "Ø®Ø¯Ù…Ø§Øª Ø¨Ø§Ø²ÛŒØ§ÙØª Ùˆ Ù…Ø­ÛŒØ· Ø²ÛŒØ³Øª",
        "Ø®Ø¯Ù…Ø§Øª Ø§Ø¬Ø§Ø±Ù‡ ØªØ¬Ù‡ÛŒØ²Ø§Øª Ùˆ Ù„ÙˆØ§Ø²Ù… (Ù…Ø§Ù†Ù†Ø¯ Ø§Ø¬Ø§Ø±Ù‡ Ú†Ø§Ø¯Ø±ØŒ Ù„Ø¨Ø§Ø³ Ù…Ø±Ø§Ø³Ù…ØŒ ØªØ¬Ù‡ÛŒØ²Ø§Øª ÙÙ†ÛŒ)"
    ]
}

# Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ
def generate_numeric_id():
    while True:
        num_id = random.randint(100000000, 999999999)
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT numeric_id FROM users WHERE numeric_id = ?", (num_id,))
        if not c.fetchone():
            conn.close()
            return num_id
        conn.close()

def save_user(user_id, name, age, gender):
    numeric_id = generate_numeric_id()
    conn = sqlite3.connect(DB_NAME)
    c = conn.cursor()
    c.execute("INSERT OR REPLACE INTO users (user_id, name, age, gender, score, numeric_id) VALUES (?, ?, ?, ?, ?, ?)",
              (user_id, name, age, gender, 0, numeric_id))
    conn.commit()
    conn.close()

def get_user(user_id):
    conn = sqlite3.connect(DB_NAME)
    c = conn.cursor()
    c.execute("SELECT * FROM users WHERE user_id = ?", (user_id,))
    user = c.fetchone()
    conn.close()
    return user

def get_user_by_numeric_id(numeric_id):
    conn = sqlite3.connect(DB_NAME)
    c = conn.cursor()
    c.execute("SELECT * FROM users WHERE numeric_id = ?", (numeric_id,))
    user = c.fetchone()
    conn.close()
    return user

def is_user_blocked(user_id):
    return user_id in blocked_users

def block_user(user_id):
    blocked_users.add(user_id)

def unblock_user(user_id):
    blocked_users.discard(user_id)

def is_user_blocked_for_place(place_id, user_id):
    return user_id in user_blocks.get(place_id, set())

def block_user_for_place(place_id, user_id):
    if place_id not in user_blocks:
        user_blocks[place_id] = set()
    user_blocks[place_id].add(user_id)

def unblock_user_for_place(place_id, user_id):
    if place_id in user_blocks:
        user_blocks[place_id].discard(user_id)

def check_top_place_change(place_id, old_avg, new_avg):
    MIN_RATING_COUNT = 100
    MIN_AVG_RATING = 8.0
    conn = sqlite3.connect(DB_NAME)
    c = conn.cursor()
    c.execute("SELECT user_id, title FROM places WHERE place_id = ?", (place_id,))
    owner_id, title = c.fetchone()
    conn.close()
    was_top = (old_avg >= MIN_AVG_RATING)
    is_top = (new_avg >= MIN_AVG_RATING)
    if not was_top and is_top:
        try:
            bot.send_message(owner_id, f"{EMOJIS['success']} Ù…Ú©Ø§Ù† Ø´Ù…Ø§ Ø¨Ø§ Ù†Ø§Ù… {title} ÙˆØ§Ø±Ø¯ Ø¨Ø®Ø´ Ù…Ú©Ø§Ù† Ù‡Ø§ÛŒ Ø¨Ø±ØªØ± Ø´Ø¯! Ø¨Ù‡ Ø´Ù…Ø§ ØªØ¨Ø±ÛŒÚ© Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÛŒÙ…! ğŸ‰")
        except:
            pass
    elif was_top and not is_top:
        try:
            bot.send_message(owner_id, f"{EMOJIS['warning']} Ø¯ÛŒÚ¯Ø± Ù…Ú©Ø§Ù† Ø´Ù…Ø§ Ø¨Ø§ Ù†Ø§Ù… {title} Ø¯Ø± Ù…Ú©Ø§Ù† Ù‡Ø§ÛŒ Ø¨Ø±ØªØ± Ù†ÛŒØ³Øª. âš ï¸")
        except:
            pass

# Ù…Ù†ÙˆÙ‡Ø§
def main_menu(user_id):
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['profile']} Ù¾Ø±ÙˆÙØ§ÛŒÙ„")
    keyboard.row(f"{EMOJIS['places']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§", f"{EMOJIS['rating']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±")
    keyboard.row(f"{EMOJIS['star']} Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±ØªØ±")
    keyboard.row(f"{EMOJIS['link']} Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§", f"{EMOJIS['help']} Ø±Ø§Ù‡Ù†Ù…Ø§")
    keyboard.row(f"{EMOJIS['report']} Ú¯Ø²Ø§Ø±Ø´")
    keyboard.row("Ø®Ø±ÛŒØ¯ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±")
    # ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ú©Ù…Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ Ø¨Ø¨ÛŒÙ†Ø¯
    if user_id == ADMIN_ID:
        keyboard.row(f"{EMOJIS['admin']} Ø¨Ø®Ø´ Ø§Ø¯Ù…ÛŒÙ†")
    return keyboard

def profile_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")
    keyboard.row("ØªØºÛŒÛŒØ± Ù†Ø§Ù…", "ØªØºÛŒÛŒØ± Ø³Ù†", "ØªØºÛŒÛŒØ± Ø¬Ù†Ø³ÛŒØª")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def get_place_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['add']} Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ú©Ø§Ù†")
    keyboard.row(f"{EMOJIS['view']} Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§", f"{EMOJIS['view']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ù†")
    keyboard.row(f"{EMOJIS['view']} Ø¬Ø³ØªØ¬Ùˆ")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def back_home_buttons():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def back_button_only():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    return keyboard

def skip_button():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ø±Ø¯ Ú©Ø±Ø¯Ù†")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    return keyboard

def place_view_result_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯ÙˆØ¨Ø§Ø±Ù‡")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    keyboard.row(f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def search_result_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ø¬Ø³ØªØ¬Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    keyboard.row(f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def admin_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("ğŸ‘¥ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„")
    keyboard.row(f"{EMOJIS['news']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø±")
    keyboard.row("ğŸ›¡ï¸ Ù…Ø¯ÛŒØ± Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§")
    keyboard.row("ğŸš« Ù…Ø³Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±", "ğŸ”“ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª")
    keyboard.row(f"{EMOJIS['score']} Ø§Ù…ØªÛŒØ§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")
    keyboard.row("Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±")
    keyboard.row("Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø¸Ø±Ø§Øª")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def admin_top_place_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±Ø§ÛŒ", "Ú©Ù… Ú©Ø±Ø¯Ù† Ø±Ø§ÛŒ")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
    return keyboard

def admin_sub_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
    return keyboard

def admin_news_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['group']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø± Ú¯Ø±ÙˆÙ‡ÛŒ")
    keyboard.row(f"{EMOJIS['user']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø± Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
    return keyboard

def admin_score_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['add_score']} Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø²", f"{EMOJIS['remove_score']} Ú©Ù… Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø²")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
    return keyboard

def edit_place_menu(place_id):
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø¹Ù†ÙˆØ§Ù†", f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ ØªÙˆØ¶ÛŒØ­Ø§Øª")
    keyboard.row(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³", f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ ØªÙ…Ø§Ø³")
    keyboard.row(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø¹Ú©Ø³")
    keyboard.row(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø´ÛŒÙØª ØµØ¨Ø­", f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø´ÛŒÙØª Ø¹ØµØ±")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def search_type_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ù…ØºØ§Ø²Ù‡ Ù‡Ø§ÛŒ Ø¢Ø¯Ø±Ø³ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±")
    keyboard.row("Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØºØ§Ø²Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ")
    return keyboard

def confirm_keyboard():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    return keyboard

def comment_menu(has_comment):
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    if has_comment:
        keyboard.row("Ø­Ø°Ù Ù†Ø¸Ø±")
    return keyboard

def message_menu():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row(f"{EMOJIS['reply']} Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù†")
    keyboard.row(f"{EMOJIS['block']} Ø¨Ù„Ø§Ú© Ú©Ø±Ø¯Ù†", f"{EMOJIS['unblock']} Ø±ÙØ¹ Ø¨Ù„Ø§Ú©")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    return keyboard

def photo_confirm_keyboard():
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    keyboard.row("ØªØ§ÛŒÛŒØ¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§")
    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
    return keyboard

# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªØ¹Ø§Ù…Ù„ÛŒ
HELP_PAGES = [
    f"{EMOJIS['help']} Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª Ú¯ÙˆÛŒÙ…â€ŒÙ†Ù…Ø§:\n\n"
    f"{EMOJIS['profile']} Ø¨Ø®Ø´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„:\n"
    "â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ Ø®ÙˆØ¯\n"
    "â€¢ ÙˆÛŒØ±Ø§ÛŒØ´ Ù†Ø§Ù…ØŒ Ø³Ù† Ùˆ Ø¬Ù†Ø³ÛŒØª",

    f"{EMOJIS['places']} Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§:\n"
    "â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ\n"
    "â€¢ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ (ÙˆÛŒØ±Ø§ÛŒØ´/Ø­Ø°Ù Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†)\n"
    "â€¢ Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ú©Ø§Ù† Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ† ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯\n"
    "â€¢ Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢Ø¯Ø±Ø³ ÛŒØ§ Ù†Ø§Ù… Ù…Ú©Ø§Ù† (Ø¬Ø²Ø¦ÛŒ ÛŒØ§ Ú©Ø§Ù…Ù„)\n"
    "â€¢ Ù‡Ø± Ù…Ú©Ø§Ù† Û±Ûµ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…Ø±ØªØ¨Ø·",

    f"{EMOJIS['rating']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±:\n"
    "â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø§ Ø­Ø¯Ø§Ù‚Ù„ Û±Û°Û° Ø±Ø§ÛŒ Ùˆ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§Ù„Ø§ÛŒ Û¸\n"
    "â€¢ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± ÙÙ‚Ø· ÛŒÚ©â€ŒØ¨Ø§Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ù‡Ø± Ù…Ú©Ø§Ù† Ø±Ø§ÛŒ Ø¯Ù‡Ø¯",

    f"{EMOJIS['star']} Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±ØªØ±:\n"
    "â€¢ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²\n"
    "â€¢ Ø­Ø¯Ø§Ù‚Ù„ Û±Û°Û°Û° Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´",

    f"{EMOJIS['link']} Ø¨Ø®Ø´ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§:\n"
    "â€¢ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù¾ÛŒØ¬ Ø§ØµÙ„ÛŒ\n"
    "â€¢ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ†\n\n"
    f"{EMOJIS['report']} Ø¨Ø®Ø´ Ú¯Ø²Ø§Ø±Ø´:\n"
    "â€¢ Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†",

    f"{EMOJIS['info']} Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ù‡Ù…:\n"
    "â€¢ Ù…Ø­ØªÙˆØ§ÛŒ Ù…Ø³ØªÙ‡Ø¬Ù† ÛŒØ§ ØªÙˆÙ‡ÛŒÙ†â€ŒØ¢Ù…ÛŒØ² Ù…Ø¬Ø§Ø² Ù†ÛŒØ³Øª\n"
    "â€¢ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ù‚Ø¹ÛŒ Ùˆ Ø¯Ù‚ÛŒÙ‚ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯\n"
    "â€¢ Ø±Ø¹Ø§ÛŒØª Ø§Ø¯Ø¨ Ùˆ Ø§Ø­ØªØ±Ø§Ù… Ø¯Ø± ØªØ¹Ø§Ù…Ù„Ø§Øª\n"
    "â€¢ ØªØ®Ù„Ù Ø§Ø² Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ù…ÛŒâ€ŒØ´ÙˆØ¯\n\n"
    f"{EMOJIS['success']} Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯!"
]

def send_help_page(user_id, page=0):
    msg = HELP_PAGES[page]
    keyboard = types.InlineKeyboardMarkup()
    if page > 0:
        keyboard.add(types.InlineKeyboardButton("ØµÙØ­Ù‡ Ù‚Ø¨Ù„ÛŒ", callback_data=f"help_prev_{page}"))
    if page < len(HELP_PAGES) - 1:
        keyboard.add(types.InlineKeyboardButton("ØµÙØ­Ù‡ Ø¨Ø¹Ø¯ÛŒ", callback_data=f"help_next_{page}"))
    bot.send_message(user_id, msg, reply_markup=keyboard)

# Ø¯Ø³ØªÙˆØ± Ø´Ø±ÙˆØ¹
@app.route('/' + API_TOKEN, methods=['POST'])
def get_message():
    json_string = request.get_data().decode('utf-8')
    update = telebot.types.Update.de_json(json_string)
    bot.process_new_updates([update])
    return "!", 200

@app.route('/')
def webhook():
    bot.remove_webhook()
    bot.set_webhook(url=WEBHOOK_URL + '/' + API_TOKEN)
    return "Webhook set!", 200

@app.route('/health')
def health_check():
    return "OK", 200

@bot.message_handler(commands=['start', 'admin'])
def start(message):
    user_id = message.from_user.id
    if is_user_blocked(user_id):
        bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø² Ø·Ø±Ù Ø§Ø¯Ù…ÛŒÙ† Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø§ÛŒØ¯âŒØ¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø¨Ø§ÛŒØ¯ Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ø§Ù†Ø¯Ú© Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ â€¼ï¸ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ù‡ Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯: @Sedayegoyom10")
        return
    if message.text == '/admin' and user_id == ADMIN_ID:
        bot.send_message(user_id, f"{EMOJIS['admin']} Ø¨Ù‡ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!", reply_markup=admin_menu())
        user_states[user_id] = "admin_menu"
        return
    user = get_user(user_id)
    if user:
        bot.send_message(user_id, f"{EMOJIS['success']} Ø®ÙˆØ´ Ø¨Ø±Ú¯Ø´ØªÛŒ! ğŸ˜", reply_markup=main_menu(user_id))
        user_states[user_id] = "main_menu"
    else:
        keyboard = types.InlineKeyboardMarkup()
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['success']} Ù¾Ø°ÛŒØ±ÙØªÙ†", callback_data="accept_terms"))
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['error']} Ù†Ù¾Ø°ÛŒØ±ÙØªÙ†", callback_data="decline_terms"))
        bot.send_message(user_id, WELCOME_MESSAGE, parse_mode="Markdown", reply_markup=keyboard)
        user_states[user_id] = "awaiting_terms"

# Ù…Ø¯ÛŒØ±ÛŒØª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ - Ø¨Ù‡Ø¨ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ /start
@bot.message_handler(content_types=['text', 'photo', 'video', 'voice', 'sticker', 'document'])
def handle_message(message):
    user_id = message.from_user.id
    if is_user_blocked(user_id):
        bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø² Ø·Ø±Ù Ø§Ø¯Ù…ÛŒÙ† Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø§ÛŒØ¯âŒØ¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø¨Ø§ÛŒØ¯ Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ø§Ù†Ø¯Ú© Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ â€¼ï¸ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ù‡ Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯: @Sedayegoyom10")
        return
    
    # Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù†Ú©Ø±Ø¯Ù‡ØŒ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù‡Ø¯Ø§ÛŒØª Ø´ÙˆØ¯
    if user_id not in user_states and not get_user(user_id):
        keyboard = types.InlineKeyboardMarkup()
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['success']} Ù¾Ø°ÛŒØ±ÙØªÙ†", callback_data="accept_terms"))
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['error']} Ù†Ù¾Ø°ÛŒØ±ÙØªÙ†", callback_data="decline_terms"))
        bot.send_message(user_id, WELCOME_MESSAGE, parse_mode="Markdown", reply_markup=keyboard)
        user_states[user_id] = "awaiting_terms"
        return
    
    state = user_states.get(user_id, "main_menu")
    text = message.text if message.text else ""
    content_type = message.content_type

    if text == f"{EMOJIS['home']} ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ":
        bot.send_message(user_id, "ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ:", reply_markup=main_menu(user_id))
        user_states[user_id] = "main_menu"
        return
    if text == f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª":
        if state in ["profile_menu", "profile_view", "profile_edit_name", "profile_edit_age", "profile_edit_gender"]:
            bot.send_message(user_id, "Ø¨Ø®Ø´ Ù¾Ø±ÙˆÙØ§ÛŒÙ„:", reply_markup=profile_menu())
            user_states[user_id] = "profile_menu"
            return
        elif state == "place_view_category":
            bot.send_message(user_id, f"{EMOJIS['places']} Ø¨Ù‡ Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        elif state == "place_view_subcategory":
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            for cat in PLACE_CATEGORIES:
                keyboard.row(f"ğŸ“Œ {cat}")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
            bot.send_message(user_id, f"{EMOJIS['places']} ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "place_view_category"
            return
        elif state in ["place_menu", "place_add_category", "place_add_subcategory", "place_add_title", "place_add_description", 
                       "place_add_address", "place_add_phone", "place_add_photo", "place_add_morning_shift", 
                       "place_add_afternoon_shift", "place_add_numeric_id", "place_view_result", "place_my_places", 
                       "place_top_rated", "place_rate", "place_rate_confirm", "place_search_title", "place_search_address", "place_search_result", "search_type", "search_by_address", "search_by_name", "search_by_name_address"]:
            bot.send_message(user_id, "Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§:", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        elif state in ["edit_place_menu", "edit_place_title", "edit_place_description", "edit_place_address", 
                       "edit_place_phone", "edit_place_photo", "edit_place_morning_shift", "edit_place_afternoon_shift"]:
            bot.send_message(user_id, "ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ú©Ø§Ù†:", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
            user_states[user_id] = "edit_place_menu"
            return
        elif state in ["admin_menu", "admin_view_gender", "admin_users", "admin_news_content", "admin_news_confirm", 
                       "admin_news_sent", "admin_delete_place_title", "admin_delete_place_category", 
                       "admin_delete_place_subcategory", "admin_delete_place_user_id", "admin_delete_place_confirm", 
                       "admin_block_user", "admin_confirm_block", "admin_unblock_user", "admin_confirm_unblock",
                       "admin_news_menu", "admin_news_user_content", "admin_news_user_numeric_id", "admin_news_user_confirm",
                       "admin_score_menu", "admin_add_score_numeric_id", "admin_add_score_amount", "admin_add_score_confirm",
                       "admin_remove_score_numeric_id", "admin_remove_score_amount", "admin_remove_score_confirm",
                       "admin_top_place_menu", "admin_add_rating_title", "admin_add_rating_numeric_id", "admin_add_rating_count", "admin_add_rating_value", "admin_add_rating_confirm",
                       "admin_remove_rating_title", "admin_remove_rating_numeric_id", "admin_remove_rating_count", "admin_remove_rating_value", "admin_remove_rating_confirm",
                       "admin_manage_comments_title", "admin_manage_comments_numeric_id", "admin_manage_comments_first_word", "admin_manage_comments_user_numeric_id", "admin_manage_comments_confirm"]:
            if state.startswith("admin_news"):
                bot.send_message(user_id, f"{EMOJIS['news']} Ø¨Ø®Ø´ Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø±:", reply_markup=admin_news_menu())
                user_states[user_id] = "admin_news_menu"
            elif state.startswith("admin_score"):
                bot.send_message(user_id, f"{EMOJIS['score']} Ø¨Ø®Ø´ Ø§Ù…ØªÛŒØ§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù†:", reply_markup=admin_score_menu())
                user_states[user_id] = "admin_score_menu"
            elif state.startswith("admin_top"):
                bot.send_message(user_id, "Ø¨Ø®Ø´ Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±:", reply_markup=admin_top_place_menu())
                user_states[user_id] = "admin_top_place_menu"
            elif state == "admin_view_gender":
                bot.send_message(user_id, f"{EMOJIS['admin']} Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†:", reply_markup=admin_menu())
                user_states[user_id] = "admin_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['admin']} Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†:", reply_markup=admin_menu())
                user_states[user_id] = "admin_menu"
            return
        elif state in ["report_menu", "report_content", "report_confirm"]:
            bot.send_message(user_id, "ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ:", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
            return
        elif state in ["buy_top_place", "buy_top_place_select", "buy_top_place_confirm"]:
            bot.send_message(user_id, "ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ:", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
            return
        elif state in ["comment_add", "comment_add_confirm", "comment_delete_confirm"]:
            bot.send_message(user_id, "Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§:", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        elif state in ["message_to_owner", "message_to_owner_confirm", "message_reply", "message_reply_confirm", "message_block_confirm", "message_unblock_confirm"]:
            bot.send_message(user_id, "Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§:", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        else:
            bot.send_message(user_id, "ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ:", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
            return
    if text == "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†":
        bot.send_message(user_id, f"{EMOJIS['admin']} Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†:", reply_markup=admin_menu())
        user_states[user_id] = "admin_menu"
        return
    if state == "awaiting_name":
        if text.strip():
            user_data[user_id] = {'name': text}
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            for i in range(13, 71, 10):
                row = [str(x) for x in range(i, min(i+10, 71))]
                keyboard.row(*row)
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
            bot.send_message(user_id, "Ø³Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "awaiting_age"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "awaiting_age":
        try:
            age = int(text)
            if 13 <= age <= 70:
                user_data[user_id]['age'] = age
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                keyboard.row("ğŸ‘¦ Ù¾Ø³Ø±", "ğŸ‘§ Ø¯Ø®ØªØ±", "ğŸŒ€ Ø¯ÛŒÚ¯Ø±")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
                bot.send_message(user_id, "Ø¬Ù†Ø³ÛŒØª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                user_states[user_id] = "awaiting_gender"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø³Ù† Ø¨ÛŒÙ† 13 ØªØ§ 70 Ø¨Ø§Ø´Ø¯!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "awaiting_gender":
        if text in ["ğŸ‘¦ Ù¾Ø³Ø±", "ğŸ‘§ Ø¯Ø®ØªØ±", "ğŸŒ€ Ø¯ÛŒÚ¯Ø±"]:
            gender = text.split()[1] if " " in text else text
            user_data[user_id]['gender'] = gender
            save_user(user_id, user_data[user_id]['name'], user_data[user_id]['age'], gender)
            user = get_user(user_id)
            profile_msg = f"{EMOJIS['profile']} Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§:\n"
            profile_msg += f"Ù†Ø§Ù…: {user[1]}\nØ³Ù†: {user[2]}\nØ¬Ù†Ø³ÛŒØª: {user[3]}\nØ§Ù…ØªÛŒØ§Ø²: {user[4]}\nØ´Ù†Ø§Ø³Ù‡: {user[5]}"
            bot.send_message(user_id, profile_msg, reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!")
    elif state == "main_menu":
        if text == f"{EMOJIS['profile']} Ù¾Ø±ÙˆÙØ§ÛŒÙ„":
            user = get_user(user_id)
            if user:
                keyboard = profile_menu()
                profile_msg = f"{EMOJIS['profile']} Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§:\n"
                profile_msg += f"Ù†Ø§Ù…: {user[1]}\nØ³Ù†: {user[2]}\nØ¬Ù†Ø³ÛŒØª: {user[3]}\nØ§Ù…ØªÛŒØ§Ø²: {user[4]}\nØ´Ù†Ø§Ø³Ù‡: {user[5]}"
                bot.send_message(user_id, profile_msg, reply_markup=keyboard)
                user_states[user_id] = "profile_menu"
        elif text == f"{EMOJIS['places']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§":
            bot.send_message(user_id, f"{EMOJIS['places']} Ø¨Ù‡ Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
        elif text == f"{EMOJIS['rating']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ±":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            MIN_RATING_COUNT = 100  # ØªØºÛŒÛŒØ± Ø§Ø² 200 Ø¨Ù‡ 100
            MIN_AVG_RATING = 8.0
            c.execute("""
                SELECT places.*, users.numeric_id
                FROM places
                JOIN users ON places.user_id = users.user_id
                WHERE places.rating_count >= ? AND (places.rating_sum * 1.0 / places.rating_count) > ?
                ORDER BY (places.rating_sum * 1.0 / places.rating_count) DESC
            """, (MIN_RATING_COUNT, MIN_AVG_RATING))
            places = c.fetchall()
            conn.close()
            if places:
                for place in places:
                    photos = place[8].split(',') if place[8] else []
                    if photos:
                        media = [types.InputMediaPhoto(photo_id) for photo_id in photos]
                        try:
                            bot.send_media_group(user_id, media)
                        except:
                            pass
                    avg_rating = (place[11] / place[12]) if place[12] > 0 else 0
                    msg = f"{EMOJIS['places']} Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±:\n"
                    msg += f"Ø¹Ù†ÙˆØ§Ù†: {place[4]}\nØ¯Ø³ØªÙ‡: {place[2]}\nØ²ÛŒØ±Ø¯Ø³ØªÙ‡: {place[3] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"ØªÙˆØ¶ÛŒØ­Ø§Øª: {place[5]}\n"
                    msg += f"Ø¢Ø¯Ø±Ø³: {place[6]}\n"
                    msg += f"ØªÙ…Ø§Ø³: {place[7] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"Ø´ÛŒÙØª ØµØ¨Ø­: {place[9] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"Ø´ÛŒÙØª Ø¹ØµØ±: {place[10] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"Ø§Ù…ØªÛŒØ§Ø² Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†: {avg_rating:.1f} ({place[12]} Ø±Ø§ÛŒ)"
                    # Ù†Ù…Ø§ÛŒØ´ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ù„Ú© ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
                    if user_id == ADMIN_ID:
                        msg += f"\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ù„Ú©: {place[13]}"
                    keyboard = types.InlineKeyboardMarkup()
                    if user_id == ADMIN_ID:
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['delete']} Ø­Ø°Ù", callback_data=f"delete_place_{place[0]}"))
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´", callback_data=f"edit_place_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['rating']} Ø§Ù…ØªÛŒØ§Ø²", callback_data=f"rate_place_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø¯Ø§Ø¯Ù†", callback_data=f"add_comment_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comments']} Ù†Ø¸Ø±Ø§Øª", callback_data=f"view_comments_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['message']} Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØµØ§Ø­Ø¨", callback_data=f"message_owner_{place[0]}"))
                    bot.send_message(user_id, msg, reply_markup=keyboard)
                bot.send_message(user_id, "Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=main_menu(user_id))
                user_states[user_id] = "main_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ù…Ú©Ø§Ù†ÛŒ Ù†ØªÙˆÙ†Ø³ØªÙ‡ Ù…Ø±ØªØ¨Ù‡ Ø¨Ø±ØªØ± Ø±Ø§ Ø¯Ø± Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ Ú©Ø³Ø¨ Ú©Ù†Ø¯!", reply_markup=main_menu(user_id))
                user_states[user_id] = "main_menu"
        elif text == f"{EMOJIS['star']} Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±ØªØ±":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT user_id, name, score FROM users WHERE score >= 1000 ORDER BY score DESC")
            users = c.fetchall()
            conn.close()
            if users:
                msg = f"{EMOJIS['star']} Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø±ØªØ±:\n\n"
                for user in users:
                    user_id_db = user[0]
                    user_name = user[1]
                    user_score = user[2]
                    
                    # Ø¯Ø±ÛŒØ§ÙØª Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
                    conn = sqlite3.connect(DB_NAME)
                    c = conn.cursor()
                    c.execute("SELECT title FROM places WHERE user_id = ?", (user_id_db,))
                    places = c.fetchall()
                    conn.close()
                    
                    places_list = [place[0] for place in places]
                    places_str = ", ".join(places_list) if places_list else "Ù‡ÛŒÚ† Ù…Ú©Ø§Ù†ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡"
                    
                    msg += f"ğŸ‘¤ Ù†Ø§Ù…: {user_name}\nğŸ† Ø§Ù…ØªÛŒØ§Ø²: {user_score}\nğŸ“ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§: {places_str}\n\n"
                    msg += "-------------------\n\n"
            else:
                msg = f"{EMOJIS['error']} Ù‡Ù†ÙˆØ² Ú©Ø³ÛŒ Ø¨Ù‡ Û±Û°Û°Û° Ø§Ù…ØªÛŒØ§Ø² Ù†Ø±Ø³ÛŒØ¯Ù‡ Ø§Ø³Øª!"
            bot.send_message(user_id, msg, reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
        elif text == f"{EMOJIS['link']} Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§":
            link_text = f"{EMOJIS['link']} Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯:\n\n"
            link_text += f"{EMOJIS['link']} Ù„ÛŒÙ†Ú© Ù¾ÛŒØ¬ Ø§ØµÙ„ÛŒ Ú¯ÙˆÛŒÙ…â€ŒÙ†Ù…Ø§:\n"
            link_text += "https://www.instagram.com/sedayegoyom?igsh=MXd0MTlkZGdzNzZ6bw==\n\n"
            link_text += f"{EMOJIS['admin']} Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ú¯ÙˆÛŒÙ…â€ŒÙ†Ù…Ø§:\n"
            link_text += "@Sedayegoyom10"
            bot.send_message(user_id, link_text, reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
        elif text == f"{EMOJIS['help']} Ø±Ø§Ù‡Ù†Ù…Ø§":
            send_help_page(user_id, 0)
            user_states[user_id] = "main_menu"
        elif text == f"{EMOJIS['report']} Ú¯Ø²Ø§Ø±Ø´":
            bot.send_message(user_id, f"{EMOJIS['report']} Ù„Ø·ÙØ§Ù‹ Ø§Ú¯Ø± Ú¯Ø²Ø§Ø±Ø´ÛŒ Ø¯Ø§Ø±ÛŒØ¯ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ ØªØ§ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆØ¯:", reply_markup=back_button_only())
            user_states[user_id] = "report_content"
        elif text == "Ø®Ø±ÛŒØ¯ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT place_id, title FROM places WHERE user_id = ?", (user_id,))
            places = c.fetchall()
            conn.close()
            if places:
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                for place in places:
                    keyboard.row(place[1])
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
                bot.send_message(user_id, f"{EMOJIS['info']} Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ù…Ú©Ø§Ù†ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¯Ø± Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ø±ØªØ± Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ø¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                user_states[user_id] = "buy_top_place_select"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ù‡ÛŒÚ† Ù…Ú©Ø§Ù†ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!", reply_markup=main_menu(user_id))
                user_states[user_id] = "main_menu"
        elif text == f"{EMOJIS['admin']} Ø¨Ø®Ø´ Ø§Ø¯Ù…ÛŒÙ†" and user_id == ADMIN_ID:
            bot.send_message(user_id, f"{EMOJIS['admin']} Ø¨Ù‡ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "report_content":
        if text.strip():
            user_data[user_id] = {'report_text': text}
            keyboard = confirm_keyboard()
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ú¯Ø²Ø§Ø±Ø´ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŸ\n\n{text}", reply_markup=keyboard)
            user_states[user_id] = "report_confirm"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ú¯Ø²Ø§Ø±Ø´ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "report_confirm":
        if text == "Ø¨Ù„Ù‡":
            report_text = user_data[user_id]['report_text']
            user = get_user(user_id)
            msg_to_admin = f"{EMOJIS['report']} Ú¯Ø²Ø§Ø±Ø´ Ø¬Ø¯ÛŒØ¯:\n\n{report_text}\n\nÙ¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±:\nÙ†Ø§Ù…: {user[1]}\nØ³Ù†: {user[2]}\nØ¬Ù†Ø³ÛŒØª: {user[3]}\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ: {user[5]}"
            try:
                bot.send_message(ADMIN_ID, msg_to_admin)
                bot.send_message(user_id, f"{EMOJIS['success']} Ú¯Ø²Ø§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯!", reply_markup=main_menu(user_id))
                # Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯ Ø¨ØµØ±ÛŒ
                bot.send_animation(user_id, 'https://t.me/animated_gifs/confirmation.gif')  # Ú¯ÛŒÙ Ù†Ù…ÙˆÙ†Ù‡
            except:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´!", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ø±Ø³Ø§Ù„ Ú¯Ø²Ø§Ø±Ø´ Ù„ØºÙˆ Ø´Ø¯.", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
    elif state == "buy_top_place_select":
        title = text
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT place_id, user_id FROM places WHERE title = ? AND user_id = ?", (title, user_id))
        place = c.fetchone()
        conn.close()
        if place:
            user_data[user_id] = {'buy_place_id': place[0], 'buy_place_title': title}
            keyboard = confirm_keyboard()
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø®Ø±ÛŒØ¯ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ± Ø¨Ø±Ø§ÛŒ '{title}' Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŸ", reply_markup=keyboard)
            user_states[user_id] = "buy_top_place_confirm"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù† ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
    elif state == "buy_top_place_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['buy_place_id']
            title = user_data[user_id]['buy_place_title']
            user = get_user(user_id)
            numeric_id = user[5]
            msg_to_admin = f"{EMOJIS['info']} Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø®Ø±ÛŒØ¯ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±:\nÚ©Ø§Ø±Ø¨Ø±: {user[1]} ({user[2]} Ø³Ø§Ù„Ù‡ØŒ {user[3]})\nÙ…Ú©Ø§Ù†: {title}\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ: {numeric_id}"
            try:
                bot.send_message(ADMIN_ID, msg_to_admin)
                bot.send_message(user_id, f"{EMOJIS['success']} Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!", reply_markup=main_menu(user_id))
            except:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª!", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
    elif state == "profile_menu":
        if text == "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„":
            user = get_user(user_id)
            if user:
                profile_msg = f"{EMOJIS['profile']} Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§:\n"
                profile_msg += f"Ù†Ø§Ù…: {user[1]}\nØ³Ù†: {user[2]}\nØ¬Ù†Ø³ÛŒØª: {user[3]}\nØ§Ù…ØªÛŒØ§Ø²: {user[4]}\nØ´Ù†Ø§Ø³Ù‡: {user[5]}"
                bot.send_message(user_id, profile_msg, reply_markup=profile_menu())
                user_states[user_id] = "profile_menu"
        elif text == "ØªØºÛŒÛŒØ± Ù†Ø§Ù…":
            bot.send_message(user_id, f"{EMOJIS['edit']} Ù†Ø§Ù… Ø¬Ø¯ÛŒØ¯ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=back_button_only())
            user_states[user_id] = "profile_edit_name"
        elif text == "ØªØºÛŒÛŒØ± Ø³Ù†":
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            for i in range(13, 71, 10):
                row = [str(x) for x in range(i, min(i+10, 71))]
                keyboard.row(*row)
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø³Ù† Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=keyboard)
            user_states[user_id] = "profile_edit_age"
        elif text == "ØªØºÛŒÛŒØ± Ø¬Ù†Ø³ÛŒØª":
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            keyboard.row("ğŸ‘¦ Ù¾Ø³Ø±", "ğŸ‘§ Ø¯Ø®ØªØ±", "ğŸŒ€ Ø¯ÛŒÚ¯Ø±")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø¬Ù†Ø³ÛŒØª Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "profile_edit_gender"
    elif state == "profile_edit_name":
        if text.strip():
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE users SET name = ? WHERE user_id = ?", (text, user_id))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ù†Ø§Ù… Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=profile_menu())
            user_states[user_id] = "profile_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "profile_edit_age":
        try:
            age = int(text)
            if 13 <= age <= 70:
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("UPDATE users SET age = ? WHERE user_id = ?", (age, user_id))
                conn.commit()
                conn.close()
                bot.send_message(user_id, f"{EMOJIS['success']} Ø³Ù† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=profile_menu())
                user_states[user_id] = "profile_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø³Ù† Ø¨ÛŒÙ† 13 ØªØ§ 70 Ø¨Ø§Ø´Ø¯!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "profile_edit_gender":
        if text in ["ğŸ‘¦ Ù¾Ø³Ø±", "ğŸ‘§ Ø¯Ø®ØªØ±", "ğŸŒ€ Ø¯ÛŒÚ¯Ø±"]:
            gender = text.split()[1] if " " in text else text
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE users SET gender = ? WHERE user_id = ?", (gender, user_id))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ø¬Ù†Ø³ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=profile_menu())
            user_states[user_id] = "profile_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!")
    elif state == "place_menu":
        if text == f"{EMOJIS['add']} Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ú©Ø§Ù†":
            if user_id == ADMIN_ID:
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                for cat in PLACE_CATEGORIES:
                    keyboard.row(f"ğŸ“Œ {cat}")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
                bot.send_message(user_id, f"{EMOJIS['places']} ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                user_states[user_id] = "place_add_category"
            else:
                bot.send_message(user_id, f"{EMOJIS['info']} Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ú©Ø§Ù† Ùˆ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ú¯ÙˆÛŒÙ…â€ŒÙ†Ù…Ø§ Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯: @Sedayegoyom10", reply_markup=get_place_menu())
                user_states[user_id] = "place_menu"
        elif text == f"{EMOJIS['view']} Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§":
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            for cat in PLACE_CATEGORIES:
                keyboard.row(f"ğŸ“Œ {cat}")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
            bot.send_message(user_id, f"{EMOJIS['places']} ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "place_view_category"
        elif text == f"{EMOJIS['view']} Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ù†":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT places.*, users.numeric_id FROM places JOIN users ON places.user_id = users.user_id WHERE places.user_id = ? ORDER BY (places.rating_sum * 1.0 / NULLIF(places.rating_count, 0)) DESC, places.place_id DESC", (user_id,))
            places = c.fetchall()
            conn.close()
            if places:
                for place in places:
                    photos = place[8].split(',') if place[8] else []
                    if photos:
                        media = [types.InputMediaPhoto(photo_id) for photo_id in photos]
                        try:
                            bot.send_media_group(user_id, media)
                        except:
                            pass
                    avg_rating = (place[11] / place[12]) if place[12] > 0 else 0
                    msg = f"{EMOJIS['places']} Ù…Ú©Ø§Ù† Ø´Ù…Ø§:\n"
                    msg += f"Ø¹Ù†ÙˆØ§Ù†: {place[4]}\nØ¯Ø³ØªÙ‡: {place[2]}\nØ²ÛŒØ±Ø¯Ø³ØªÙ‡: {place[3] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"ØªÙˆØ¶ÛŒØ­Ø§Øª: {place[5]}\n"
                    msg += f"Ø¢Ø¯Ø±Ø³: {place[6]}\n"
                    msg += f"ØªÙ…Ø§Ø³: {place[7] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"Ø´ÛŒÙØª ØµØ¨Ø­: {place[9] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"Ø´ÛŒÙØª Ø¹ØµØ±: {place[10] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                    msg += f"Ø§Ù…ØªÛŒØ§Ø²: {avg_rating:.1f} ({place[12]} Ø±Ø§ÛŒ)"
                    # Ù†Ù…Ø§ÛŒØ´ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ù„Ú© ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
                    if user_id == ADMIN_ID:
                        msg += f"\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ù„Ú©: {place[13]}"
                    keyboard = types.InlineKeyboardMarkup()
                    if user_id == ADMIN_ID:
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['delete']} Ø­Ø°Ù", callback_data=f"delete_place_{place[0]}"))
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´", callback_data=f"edit_place_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['rating']} Ø§Ù…ØªÛŒØ§Ø²", callback_data=f"rate_place_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø¯Ø§Ø¯Ù†", callback_data=f"add_comment_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comments']} Ù†Ø¸Ø±Ø§Øª", callback_data=f"view_comments_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['message']} Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØµØ§Ø­Ø¨", callback_data=f"message_owner_{place[0]}"))
                    bot.send_message(user_id, msg, reply_markup=keyboard)
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ù…Ú©Ø§Ù†ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!")
            bot.send_message(user_id, "Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=get_place_menu())
            user_states[user_id] = "place_my_places"
        elif text == f"{EMOJIS['view']} Ø¬Ø³ØªØ¬Ùˆ":
            bot.send_message(user_id, f"{EMOJIS['places']} Ù†ÙˆØ¹ Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=search_type_menu())
            user_states[user_id] = "search_type"
    elif state == "search_type":
        if text == "Ù…ØºØ§Ø²Ù‡ Ù‡Ø§ÛŒ Ø¢Ø¯Ø±Ø³ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±":
            bot.send_message(user_id, "Ø¢Ø¯Ø±Ø³ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=back_button_only())
            user_states[user_id] = "search_by_address"
        elif text == "Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…ØºØ§Ø²Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±":
            bot.send_message(user_id, "Ù†Ø§Ù… Ù…Ú©Ø§Ù† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ Ø³ÙˆÙ¾Ø±ÛŒØŒ Ù‡Ø§ÛŒÙ¾Ø± Ù…Ø§Ø±Ú©ØªØŒ Ù¾ÙˆØ´Ø§Ú©):", reply_markup=back_button_only())
            user_states[user_id] = "search_by_name"
            user_data[user_id] = {}
    elif state == "search_by_address":
        address_query = text.lower()
        query_words = address_query.split()
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT places.*, users.numeric_id FROM places JOIN users ON places.user_id = users.user_id")
        places = c.fetchall()
        conn.close()
        filtered_places = []
        for place in places:
            address_lower = place[6].lower() if place[6] else ""
            address_words = address_lower.split()
            match = False
            for q_word in query_words:
                for a_word in address_words:
                    if difflib.SequenceMatcher(None, q_word, a_word).ratio() > 0.8:  # Ù…Ø´Ø§Ø¨Ù‡Øª Ø¨ÛŒØ´ Ø§Ø² 80%
                        match = True
                        break
                if match:
                    break
            if match:
                filtered_places.append(place)
        if filtered_places:
            for place in filtered_places:
                photos = place[8].split(',') if place[8] else []
                if photos:
                    media = [types.InputMediaPhoto(photo_id) for photo_id in photos]
                    try:
                        bot.send_media_group(user_id, media)
                    except:
                        pass
                avg_rating = (place[11] / place[12]) if place[12] > 0 else 0
                msg = f"{EMOJIS['places']} Ù…Ú©Ø§Ù† ÛŒØ§ÙØª Ø´Ø¯Ù‡:\n"
                msg += f"Ø¹Ù†ÙˆØ§Ù†: {place[4]}\nØ¯Ø³ØªÙ‡: {place[2]}\nØ²ÛŒØ±Ø¯Ø³ØªÙ‡: {place[3] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"ØªÙˆØ¶ÛŒØ­Ø§Øª: {place[5]}\n"
                msg += f"Ø¢Ø¯Ø±Ø³: {place[6]}\n"
                msg += f"ØªÙ…Ø§Ø³: {place[7] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"Ø´ÛŒÙØª ØµØ¨Ø­: {place[9] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"Ø´ÛŒÙØª Ø¹ØµØ±: {place[10] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"Ø§Ù…ØªÛŒØ§Ø²: {avg_rating:.1f} ({place[12]} Ø±Ø§ÛŒ)\n"
                msg += f"Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ØµØ§Ø­Ø¨: {place[13]}"
                keyboard = types.InlineKeyboardMarkup()
                if user_id == ADMIN_ID:
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['delete']} Ø­Ø°Ù", callback_data=f"delete_place_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´", callback_data=f"edit_place_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['rating']} Ø§Ù…ØªÛŒØ§Ø²", callback_data=f"rate_place_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø¯Ø§Ø¯Ù†", callback_data=f"add_comment_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comments']} Ù†Ø¸Ø±Ø§Øª", callback_data=f"view_comments_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['message']} Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØµØ§Ø­Ø¨", callback_data=f"message_owner_{place[0]}"))
                bot.send_message(user_id, msg, reply_markup=keyboard)
            bot.send_message(user_id, "Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=search_result_menu())
            user_states[user_id] = "place_search_result"
        else:
            bot.send_message(user_id, "Ù‡ÛŒÚ† Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª!", reply_markup=search_result_menu())
            user_states[user_id] = "place_search_result"
    elif state == "search_by_name":
        if text.strip():
            user_data[user_id]['name_query'] = text.lower().split()
            bot.send_message(user_id, f"{EMOJIS['places']} Ø¢Ø¯Ø±Ø³ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø¯ÙˆÙ† Ø¢Ø¯Ø±Ø³): (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=skip_button())
            user_states[user_id] = "search_by_name_address"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù†Ø§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "search_by_name_address":
        name_words = user_data[user_id]['name_query']
        address_query = None if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†" else text.lower()
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        query = "SELECT places.*, users.numeric_id FROM places JOIN users ON places.user_id = users.user_id WHERE 1=1"
        params = []
        if address_query:
            query += " AND LOWER(address) LIKE ?"
            params.append(f"%{address_query}%")
        places = c.execute(query, params).fetchall()
        filtered_places = []
        for place in places:
            title_lower = place[4].lower()
            if any(word in title_lower for word in name_words):
                filtered_places.append(place)
        conn.close()
        if filtered_places:
            for place in filtered_places:
                photos = place[8].split(',') if place[8] else []
                if photos:
                    media = [types.InputMediaPhoto(photo_id) for photo_id in photos]
                    try:
                        bot.send_media_group(user_id, media)
                    except:
                        pass
                avg_rating = (place[11] / place[12]) if place[12] > 0 else 0
                msg = f"{EMOJIS['places']} Ù…Ú©Ø§Ù† ÛŒØ§ÙØª Ø´Ø¯Ù‡:\n"
                msg += f"Ø¹Ù†ÙˆØ§Ù†: {place[4]}\nØ¯Ø³ØªÙ‡: {place[2]}\nØ²ÛŒØ±Ø¯Ø³ØªÙ‡: {place[3] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"ØªÙˆØ¶ÛŒØ­Ø§Øª: {place[5]}\n"
                msg += f"Ø¢Ø¯Ø±Ø³: {place[6]}\n"
                msg += f"ØªÙ…Ø§Ø³: {place[7] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"Ø´ÛŒÙØª ØµØ¨Ø­: {place[9] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"Ø´ÛŒÙØª Ø¹ØµØ±: {place[10] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                msg += f"Ø§Ù…ØªÛŒØ§Ø²: {avg_rating:.1f} ({place[12]} Ø±Ø§ÛŒ)\n"
                msg += f"Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ØµØ§Ø­Ø¨: {place[13]}"
                keyboard = types.InlineKeyboardMarkup()
                if user_id == ADMIN_ID:
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['delete']} Ø­Ø°Ù", callback_data=f"delete_place_{place[0]}"))
                    keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´", callback_data=f"edit_place_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['rating']} Ø§Ù…ØªÛŒØ§Ø²", callback_data=f"rate_place_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø¯Ø§Ø¯Ù†", callback_data=f"add_comment_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comments']} Ù†Ø¸Ø±Ø§Øª", callback_data=f"view_comments_{place[0]}"))
                keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['message']} Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØµØ§Ø­Ø¨", callback_data=f"message_owner_{place[0]}"))
                bot.send_message(user_id, msg, reply_markup=keyboard)
            bot.send_message(user_id, "Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=search_result_menu())
            user_states[user_id] = "place_search_result"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ù…Ø´Ø®ØµØ§Øª ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=search_result_menu())
            user_states[user_id] = "place_search_result"
    elif state == "place_search_result":
        if text == "Ø¬Ø³ØªØ¬Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡":
            bot.send_message(user_id, f"{EMOJIS['places']} Ù†ÙˆØ¹ Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=search_type_menu())
            user_states[user_id] = "search_type"
    elif state == "place_add_category":
        if user_id != ADMIN_ID:
            bot.send_message(user_id, f"{EMOJIS['error']} ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ú©Ø§Ù† Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†Ø¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        if text.startswith("ğŸ“Œ"):
            category = text[2:]
            if category in PLACE_CATEGORIES:
                user_data[user_id] = {'category': category}
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                for sub in PLACE_CATEGORIES[category]:
                    keyboard.row(f"ğŸ”¹ {sub}")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
                bot.send_message(user_id, f"{EMOJIS['places']} ÛŒÚ© Ø²ÛŒØ±Ø´Ø§Ø®Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                user_states[user_id] = "place_add_subcategory"
    elif state == "place_add_subcategory":
        if text.startswith("ğŸ”¹"):
            subcategory = text[2:]
            category = user_data[user_id].get('category', '')
            if subcategory in PLACE_CATEGORIES.get(category, []):
                user_data[user_id]['subcategory'] = subcategory
                bot.send_message(user_id, f"{EMOJIS['places']} Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=back_button_only())
                user_states[user_id] = "place_add_title"
    elif state == "place_add_title":
        if text.strip():
            user_data[user_id]['title'] = text
            bot.send_message(user_id, f"{EMOJIS['places']} ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø­Ø¯Ø§Ù‚Ù„ 10 Ú©Ù„Ù…Ù‡):", reply_markup=back_button_only())
            user_states[user_id] = "place_add_description"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "place_add_description":
        words = text.strip().split()
        if len(words) >= 10:
            user_data[user_id]['description'] = text
            bot.send_message(user_id, f"{EMOJIS['places']} Ø¢Ø¯Ø±Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=back_button_only())
            user_states[user_id] = "place_add_address"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ú©Ù„Ù…Ù‡ Ø¨Ø§Ø´Ø¯! ({len(words)} Ú©Ù„Ù…Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯)")
    elif state == "place_add_address":
        if text.strip():
            user_data[user_id]['address'] = text
            bot.send_message(user_id, f"{EMOJIS['places']} Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ 09 Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯ Ùˆ 11 Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯ ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù†): (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=skip_button())
            user_states[user_id] = "place_add_phone"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¢Ø¯Ø±Ø³ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "place_add_phone":
        if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†":
            user_data[user_id]['phone'] = None
            bot.send_message(user_id, f"{EMOJIS['places']} ØªØ§ 8 Ø¹Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ù…Ú©Ø§Ù† Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŒ Ø³Ù¾Ø³ 'ØªØ§ÛŒÛŒØ¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§' Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯:", reply_markup=photo_confirm_keyboard())
            user_states[user_id] = "place_add_photo"
            place_photos[user_id] = []
        elif re.match(r'^09\d{9}$', text):
            user_data[user_id]['phone'] = text
            bot.send_message(user_id, f"{EMOJIS['places']} ØªØ§ 8 Ø¹Ú©Ø³ Ø¨Ø±Ø§ÛŒ Ù…Ú©Ø§Ù† Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŒ Ø³Ù¾Ø³ 'ØªØ§ÛŒÛŒØ¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§' Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯:", reply_markup=photo_confirm_keyboard())
            user_states[user_id] = "place_add_photo"
            place_photos[user_id] = []
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ 09 Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯ Ùˆ 11 Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯ ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!")
    elif state == "place_add_photo":
        if text == "ØªØ§ÛŒÛŒØ¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§":
            if user_id in place_photos and len(place_photos[user_id]) > 0:
                user_data[user_id]['photos'] = ','.join(place_photos[user_id])
                bot.send_message(user_id, f"{EMOJIS['places']} Ø´ÛŒÙØª ØµØ¨Ø­ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ø§Ù„: 8:00-12:00 ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù†):", reply_markup=skip_button())
                user_states[user_id] = "place_add_morning_shift"
                del place_photos[user_id]
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¹Ú©Ø³ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯!")
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø¹Ú©Ø³ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ÛŒØ§ ØªØ§ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯!")
    elif state == "place_add_morning_shift":
        user_data[user_id]['morning_shift'] = None if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†" else text
        bot.send_message(user_id, f"{EMOJIS['places']} Ø´ÛŒÙØª Ø¹ØµØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ø§Ù„: 14:00-20:00 ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù†):", reply_markup=skip_button())
        user_states[user_id] = "place_add_afternoon_shift"
    elif state == "place_add_afternoon_shift":
        user_data[user_id]['afternoon_shift'] = None if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†" else text
        bot.send_message(user_id, f"{EMOJIS['places']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=back_button_only())
        user_states[user_id] = "place_add_numeric_id"
    elif state == "place_add_numeric_id":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                user_data[user_id]['numeric_id'] = numeric_id
                target_user_id = target_user[0]
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("INSERT INTO places (user_id, category, subcategory, title, description, address, phone, photos, morning_shift, afternoon_shift) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
                          (target_user_id, user_data[user_id]['category'], user_data[user_id]['subcategory'], user_data[user_id]['title'],
                           user_data[user_id]['description'], user_data[user_id]['address'], user_data[user_id].get('phone'),
                           user_data[user_id].get('photos'), user_data[user_id]['morning_shift'], user_data[user_id]['afternoon_shift']))
                c.execute("UPDATE users SET score = score + 83 WHERE user_id = ?", (target_user_id,))
                place_id = c.lastrowid
                conn.commit()
                conn.close()
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("SELECT user_id FROM users")
                users = c.fetchall()
                conn.close()
                success_count = 0
                for user in users:
                    try:
                        bot.send_message(user[0], f"{EMOJIS['places']} Ù…Ú©Ø§Ù† Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Ø¯Ø³ØªÙ‡ {user_data[user_id]['category']}ØŒ Ø²ÛŒØ±Ø¯Ø³ØªÙ‡ {user_data[user_id]['subcategory']}:\nØ¹Ù†ÙˆØ§Ù†: {user_data[user_id]['title']}")
                        success_count += 1
                    except:
                        pass
                bot.send_message(user_id, f"{EMOJIS['success']} Ù…Ú©Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª  Ø«Ø¨Øª Ø´Ø¯! Û¸Û³ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ {numeric_id} Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.\nØ§Ø±Ø³Ø§Ù„ Ø¨Ù‡ {success_count} Ú©Ø§Ø±Ø¨Ø±.", reply_markup=get_place_menu())
                bot.send_animation(user_id, 'https://t.me/animated_gifs/success.gif')  # Ú¯ÛŒÙ ØªØ§ÛŒÛŒØ¯
                user_states[user_id] = "place_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=get_place_menu())
                user_states[user_id] = "place_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=back_button_only())
    elif state == "place_view_category":
        if text.startswith("ğŸ“Œ"):
            category = text[2:]
            if category in PLACE_CATEGORIES:
                user_data[user_id] = {'category': category}
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                for sub in PLACE_CATEGORIES[category]:
                    keyboard.row(f"ğŸ”¹ {sub}")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
                bot.send_message(user_id, f"{EMOJIS['places']} ÛŒÚ© Ø²ÛŒØ±Ø´Ø§Ø®Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                user_states[user_id] = "place_view_subcategory"
    elif state == "place_view_subcategory":
        if text.startswith("ğŸ”¹"):
            subcategory = text[2:]
            category = user_data[user_id].get('category', '')
            if subcategory in PLACE_CATEGORIES.get(category, []):
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("SELECT places.*, users.numeric_id FROM places JOIN users ON places.user_id = users.user_id WHERE category = ? AND subcategory = ? ORDER BY (places.rating_sum * 1.0 / NULLIF(places.rating_count, 0)) DESC, places.place_id DESC", (category, subcategory))
                places = c.fetchall()
                conn.close()
                if places:
                    for place in places:
                        photos = place[8].split(',') if place[8] else []
                        if photos:
                            media = [types.InputMediaPhoto(photo_id) for photo_id in photos]
                            try:
                                bot.send_media_group(user_id, media)
                            except:
                                pass
                        avg_rating = (place[11] / place[12]) if place[12] > 0 else 0
                        msg = f"{EMOJIS['places']} Ù…Ú©Ø§Ù†:\n"
                        msg += f"Ø¹Ù†ÙˆØ§Ù†: {place[4]}\n"
                        msg += f"ØªÙˆØ¶ÛŒØ­Ø§Øª: {place[5]}\n"
                        msg += f"Ø¢Ø¯Ø±Ø³: {place[6]}\n"
                        msg += f"ØªÙ…Ø§Ø³: {place[7] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                        msg += f"Ø´ÛŒÙØª ØµØ¨Ø­: {place[9] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                        msg += f"Ø´ÛŒÙØª Ø¹ØµØ±: {place[10] or 'Ù…Ø´Ø®Øµ Ù†Ø´Ø¯Ù‡'}\n"
                        msg += f"Ø§Ù…ØªÛŒØ§Ø²: {avg_rating:.1f} ({place[12]} Ø±Ø§ÛŒ)"
                        # Ù†Ù…Ø§ÛŒØ´ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ù„Ú© ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
                        if user_id == ADMIN_ID:
                            msg += f"\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø§Ù„Ú©: {place[13]}"
                        keyboard = types.InlineKeyboardMarkup()
                        if user_id == ADMIN_ID:
                            keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['delete']} Ø­Ø°Ù", callback_data=f"delete_place_{place[0]}"))
                            keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´", callback_data=f"edit_place_{place[0]}"))
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['rating']} Ø§Ù…ØªÛŒØ§Ø²", callback_data=f"rate_place_{place[0]}"))
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø¯Ø§Ø¯Ù†", callback_data=f"add_comment_{place[0]}"))
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['comments']} Ù†Ø¸Ø±Ø§Øª", callback_data=f"view_comments_{place[0]}"))
                        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['message']} Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØµØ§Ø­Ø¨", callback_data=f"message_owner_{place[0]}"))
                        bot.send_message(user_id, msg, reply_markup=keyboard)
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù†ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!", reply_markup=back_button_only())
                bot.send_message(user_id, "Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=place_view_result_menu())
                user_states[user_id] = "place_view_result"
    elif state == "place_view_result":
        if text == "Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯ÙˆØ¨Ø§Ø±Ù‡":
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            for cat in PLACE_CATEGORIES:
                keyboard.row(f"ğŸ“Œ {cat}")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
            bot.send_message(user_id, f"{EMOJIS['places']} ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "place_view_category"
        elif text == f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª":
            bot.send_message(user_id, "Ø¨Ø®Ø´ Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§:", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
    elif state == "edit_place_menu":
        if text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø¹Ù†ÙˆØ§Ù†":
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=back_button_only())
            user_states[user_id] = "edit_place_title"
        elif text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ ØªÙˆØ¶ÛŒØ­Ø§Øª":
            bot.send_message(user_id, f"{EMOJIS['edit']} ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø­Ø¯Ø§Ù‚Ù„ 10 Ú©Ù„Ù…Ù‡):", reply_markup=back_button_only())
            user_states[user_id] = "edit_place_description"
        elif text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø¯Ø±Ø³":
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=back_button_only())
            user_states[user_id] = "edit_place_address"
        elif text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ ØªÙ…Ø§Ø³":
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ 09 Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯ Ùˆ 11 Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯ Ğ¸Ğ»Ğ¸ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù†): (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=skip_button())
            user_states[user_id] = "edit_place_phone"
        elif text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø¹Ú©Ø³":
            bot.send_message(user_id, f"{EMOJIS['edit']} ØªØ§ 8 Ø¹Ú©Ø³ Ø¬Ø¯ÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŒ Ø³Ù¾Ø³ 'ØªØ§ÛŒÛŒØ¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§' Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯:", reply_markup=photo_confirm_keyboard())
            user_states[user_id] = "edit_place_photo"
            place_photos[user_id] = []
        elif text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø´ÛŒÙØª ØµØ¨Ø­":
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø´ÛŒÙØª ØµØ¨Ø­ Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ø§Ù„: 8:00-12:00 ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù†):", reply_markup=skip_button())
            user_states[user_id] = "edit_place_morning_shift"
        elif text == f"{EMOJIS['edit']} ÙˆÛŒØ±Ø§ÛŒØ´ Ø´ÛŒÙØª Ø¹ØµØ±":
            bot.send_message(user_id, f"{EMOJIS['edit']} Ø´ÛŒÙØª Ø¹ØµØ± Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ø§Ù„: 14:00-20:00 ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù†):", reply_markup=skip_button())
            user_states[user_id] = "edit_place_afternoon_shift"
    elif state == "edit_place_title":
        if text.strip():
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET title = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", (text, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ø¹Ù†ÙˆØ§Ù† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
            user_states[user_id] = "edit_place_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
    elif state == "edit_place_description":
        words = text.strip().split()
        if len(words) >= 10:
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET description = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", (text, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
            user_states[user_id] = "edit_place_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ú©Ù„Ù…Ù‡ Ø¨Ø§Ø´Ø¯! ({len(words)} Ú©Ù„Ù…Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯)", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
    elif state == "edit_place_address":
        if text.strip():
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET address = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", (text, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ø¢Ø¯Ø±Ø³ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
            user_states[user_id] = "edit_place_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¢Ø¯Ø±Ø³ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
    elif state == "edit_place_phone":
        if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET phone = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", (None, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
            user_states[user_id] = "edit_place_menu"
        elif re.match(r'^09\d{9}$', text):
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET phone = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", (text, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
            user_states[user_id] = "edit_place_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ 09 Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯ Ùˆ 11 Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯ ÛŒØ§ 'Ø±Ø¯ Ú©Ø±Ø¯Ù†' Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
    elif state == "edit_place_photo":
        if text == "ØªØ§ÛŒÛŒØ¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§":
            if user_id in place_photos and len(place_photos[user_id]) > 0:
                photos_str = ','.join(place_photos[user_id])
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("UPDATE places SET photos = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", (photos_str, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
                conn.commit()
                conn.close()
                bot.send_message(user_id, f"{EMOJIS['success']} Ø¹Ú©Ø³â€ŒÙ‡Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
                del place_photos[user_id]
                user_states[user_id] = "edit_place_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¹Ú©Ø³ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯!")
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø¹Ú©Ø³ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ÛŒØ§ ØªØ§ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯!")
    elif state == "edit_place_morning_shift":
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("UPDATE places SET morning_shift = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", 
                  (None if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†" else text, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
        conn.commit()
        conn.close()
        bot.send_message(user_id, f"{EMOJIS['success']} Ø´ÛŒÙØª ØµØ¨Ø­ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
        user_states[user_id] = "edit_place_menu"
    elif state == "edit_place_afternoon_shift":
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("UPDATE places SET afternoon_shift = ? WHERE place_id = ? AND (user_id = ? OR ? = ?)", 
                  (None if text == "Ø±Ø¯ Ú©Ø±Ø¯Ù†" else text, user_data[user_id]['edit_place_id'], user_id, user_id, ADMIN_ID))
        conn.commit()
        conn.close()
        bot.send_message(user_id, f"{EMOJIS['success']} Ø´ÛŒÙØª Ø¹ØµØ± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!", reply_markup=edit_place_menu(user_data[user_id]['edit_place_id']))
        user_states[user_id] = "edit_place_menu"
    elif state == "admin_menu":
        if text == "ğŸ‘¥ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT COUNT(*) FROM users")
            total_users = c.fetchone()[0]
            conn.close()
            msg = f"{EMOJIS['info']} ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„: {total_users}"
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            keyboard.row("ğŸ‘¦ Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù¾Ø³Ø±", "ğŸ‘§ Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø®ØªØ±")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
            bot.send_message(user_id, msg, reply_markup=keyboard)
            user_states[user_id] = "admin_view_gender"
        elif text == f"{EMOJIS['news']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø±":
            bot.send_message(user_id, f"{EMOJIS['news']} Ø¨Ø®Ø´ Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø±:", reply_markup=admin_news_menu())
            user_states[user_id] = "admin_news_menu"
        elif text == "ğŸ›¡ï¸ Ù…Ø¯ÛŒØ± Ù…Ú©Ø§Ù†â€ŒÙ‡Ø§":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù† Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_delete_place_title"
        elif text == "ğŸš« Ù…Ø³Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø³Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_block_user"
        elif text == "ğŸ”“ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_unblock_user"
        elif text == f"{EMOJIS['score']} Ø§Ù…ØªÛŒØ§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù†":
            bot.send_message(user_id, f"{EMOJIS['score']} Ø¨Ø®Ø´ Ø§Ù…ØªÛŒØ§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù†:", reply_markup=admin_score_menu())
            user_states[user_id] = "admin_score_menu"
        elif text == "Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±":
            bot.send_message(user_id, "Ø¨Ø®Ø´ Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù…Ú©Ø§Ù† Ø¨Ø±ØªØ±:", reply_markup=admin_top_place_menu())
            user_states[user_id] = "admin_top_place_menu"
        elif text == "Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø¸Ø±Ø§Øª":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_manage_comments_title"
    elif state == "admin_top_place_menu":
        if text == "Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø±Ø§ÛŒ":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_add_rating_title"
        elif text == "Ú©Ù… Ú©Ø±Ø¯Ù† Ø±Ø§ÛŒ":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_remove_rating_title"
    elif state == "admin_add_rating_title":
        if text.strip():
            user_data[user_id] = {'rating_title': text}
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_add_rating_numeric_id"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "admin_add_rating_numeric_id":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                user_data[user_id]['rating_numeric_id'] = numeric_id
                bot.send_message(user_id, f"{EMOJIS['info']} ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_add_rating_count"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯!")
            except ValueError:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_add_rating_count":
        try:
            count = int(text)
            if count > 0:
                user_data[user_id]['rating_count'] = count
                bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ù…ØªÛŒØ§Ø² Ù‡Ø± Ø±Ø§ÛŒ (0 ØªØ§ 10) Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_add_rating_value"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§ÛŒØ¯ Ù…Ø«Ø¨Øª Ø¨Ø§Ø´Ø¯!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_add_rating_value":
        try:
            value = int(text)
            if 0 <= value <= 10:
                user_data[user_id]['rating_value'] = value
                title = user_data[user_id]['rating_title']
                numeric_id = user_data[user_id]['rating_numeric_id']
                count = user_data[user_id]['rating_count']
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("SELECT place_id, rating_sum, rating_count FROM places WHERE title = ? AND user_id = (SELECT user_id FROM users WHERE numeric_id = ?)", (title, numeric_id))
                place = c.fetchone()
                if place:
                    place_id = place[0]
                    old_sum = place[1]
                    old_count = place[2]
                    old_avg = old_sum / old_count if old_count > 0 else 0
                    new_sum = old_sum + (count * value)
                    new_count = old_count + count
                    new_avg = new_sum / new_count if new_count > 0 else 0
                    keyboard = confirm_keyboard()
                    msg = f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ\nØ¹Ù†ÙˆØ§Ù†: {title}\nØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ÛŒ: {count}\nØ§Ù…ØªÛŒØ§Ø²: {value}"
                    bot.send_message(user_id, msg, reply_markup=keyboard)
                    user_data[user_id]['place_id'] = place_id
                    user_data[user_id]['new_sum'] = new_sum
                    user_data[user_id]['new_count'] = new_count
                    user_data[user_id]['old_avg'] = old_avg
                    user_data[user_id]['new_avg'] = new_avg
                    user_states[user_id] = "admin_add_rating_confirm"
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù† ÛŒØ§ÙØª Ù†Ø´Ø¯!")
                conn.close()
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø§Ù…ØªÛŒØ§Ø² Ø¨ÛŒÙ† 0 ØªØ§ 10!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_add_rating_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['place_id']
            new_sum = user_data[user_id]['new_sum']
            new_count = user_data[user_id]['new_count']
            old_avg = user_data[user_id]['old_avg']
            new_avg = user_data[user_id]['new_avg']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET rating_sum = ?, rating_count = ? WHERE place_id = ?", (new_sum, new_count, place_id))
            conn.commit()
            conn.close()
            check_top_place_change(place_id, old_avg, new_avg)
            bot.send_message(user_id, f"{EMOJIS['success']} Ø±Ø§ÛŒâ€ŒÙ‡Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_top_place_menu())
            user_states[user_id] = "admin_top_place_menu"
    elif state == "admin_remove_rating_title":
        if text.strip():
            user_data[user_id] = {'rating_title': text}
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_remove_rating_numeric_id"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "admin_remove_rating_numeric_id":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                user_data[user_id]['rating_numeric_id'] = numeric_id
                bot.send_message(user_id, f"{EMOJIS['info']} ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_remove_rating_count"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_remove_rating_count":
        try:
            count = int(text)
            if count > 0:
                user_data[user_id]['rating_count'] = count
                bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ù…ØªÛŒØ§Ø² Ù‡Ø± Ø±Ø§ÛŒ (0 ØªØ§ 10) Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_remove_rating_value"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§ÛŒØ¯ Ù…Ø«Ø¨Øª Ø¨Ø§Ø´Ø¯!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_remove_rating_value":
        try:
            value = int(text)
            if 0 <= value <= 10:
                user_data[user_id]['rating_value'] = value
                title = user_data[user_id]['rating_title']
                numeric_id = user_data[user_id]['rating_numeric_id']
                count = user_data[user_id]['rating_count']
                conn = sqlite3.connect(DB_NAME)
                c = conn.cursor()
                c.execute("SELECT place_id, rating_sum, rating_count FROM places WHERE title = ? AND user_id = (SELECT user_id FROM users WHERE numeric_id = ?)", (title, numeric_id))
                place = c.fetchone()
                if place:
                    place_id = place[0]
                    old_sum = place[1]
                    old_count = place[2]
                    if count > old_count:
                        bot.send_message(user_id, f"{EMOJIS['error']} ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª!")
                    else:
                        old_avg = old_sum / old_count if old_count > 0 else 0
                        new_sum = old_sum - (count * value)
                        new_count = old_count - count
                        new_avg = new_sum / new_count if new_count > 0 else 0
                        keyboard = confirm_keyboard()
                        msg = f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ\nØ¹Ù†ÙˆØ§Ù†: {title}\nØªØ¹Ø¯Ø§Ø¯ Ø±Ø§ÛŒ: {count}\nØ§Ù…ØªÛŒØ§Ø²: {value}"
                        bot.send_message(user_id, msg, reply_markup=keyboard)
                        user_data[user_id]['place_id'] = place_id
                        user_data[user_id]['new_sum'] = new_sum
                        user_data[user_id]['new_count'] = new_count
                        user_data[user_id]['old_avg'] = old_avg
                        user_data[user_id]['new_avg'] = new_avg
                        user_states[user_id] = "admin_remove_rating_confirm"
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù† ÛŒØ§ÙØª Ù†Ø´Ø¯!")
                conn.close()
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø§Ù…ØªÛŒØ§Ø² Ø¨ÛŒÙ† 0 ØªØ§ 10!")
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_remove_rating_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['place_id']
            new_sum = user_data[user_id]['new_sum']
            new_count = user_data[user_id]['new_count']
            old_avg = user_data[user_id]['old_avg']
            new_avg = user_data[user_id]['new_avg']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE places SET rating_sum = ?, rating_count = ? WHERE place_id = ?", (new_sum, new_count, place_id))
            conn.commit()
            conn.close()
            check_top_place_change(place_id, old_avg, new_avg)
            bot.send_message(user_id, f"{EMOJIS['success']} Ø±Ø§ÛŒâ€ŒÙ‡Ø§ Ú©Ù… Ø´Ø¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_top_place_menu())
            user_states[user_id] = "admin_top_place_menu"
    elif state == "admin_manage_comments_title":
        if text.strip():
            user_data[user_id] = {'manage_title': text}
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_manage_comments_numeric_id"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "admin_manage_comments_numeric_id":
        try:
            numeric_id = int(text)
            user_data[user_id]['manage_numeric_id'] = numeric_id
            bot.send_message(user_id, f"{EMOJIS['info']} Ú©Ù„Ù…Ù‡ Ø§ÙˆÙ„ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_manage_comments_first_word"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_manage_comments_first_word":
        if text.strip():
            user_data[user_id]['manage_first_word'] = text.lower()
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù†Ø¸Ø± Ø¯Ù‡Ù†Ø¯Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_manage_comments_user_numeric_id"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ù„Ù…Ù‡ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "admin_manage_comments_user_numeric_id":
        try:
            user_numeric_id = int(text)
            title = user_data[user_id]['manage_title']
            owner_numeric_id = user_data[user_id]['manage_numeric_id']
            first_word = user_data[user_id]['manage_first_word']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT place_id FROM places WHERE title = ? AND user_id = (SELECT user_id FROM users WHERE numeric_id = ?)", (title, owner_numeric_id))
            place = c.fetchone()
            if place:
                place_id = place[0]
                c.execute("SELECT comment_id, user_id, comment FROM comments WHERE place_id = ? AND user_id = (SELECT user_id FROM users WHERE numeric_id = ?) AND LOWER(comment) LIKE ?", 
                          (place_id, user_numeric_id, f"{first_word}%"))
                comment = c.fetchone()
                if comment:
                    comment_id = comment[0]
                    comment_text = comment[2]
                    user_db_id = comment[1]
                    keyboard = confirm_keyboard()
                    msg = f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù†Ø¸Ø± Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ\n\n{comment_text}"
                    bot.send_message(user_id, msg, reply_markup=keyboard)
                    user_data[user_id]['manage_comment_id'] = comment_id
                    user_data[user_id]['manage_user_id'] = user_db_id
                    user_data[user_id]['manage_place_title'] = title
                    user_states[user_id] = "admin_manage_comments_confirm"
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯!")
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù† ÛŒØ§ÙØª Ù†Ø´Ø¯!")
            conn.close()
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!")
    elif state == "admin_manage_comments_confirm":
        if text == "Ø¨Ù„Ù‡":
            comment_id = user_data[user_id]['manage_comment_id']
            user_db_id = user_data[user_id]['manage_user_id']
            title = user_data[user_id]['manage_place_title']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("DELETE FROM comments WHERE comment_id = ?", (comment_id,))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ù†Ø¸Ø± Ø­Ø°Ù Ø´Ø¯!", reply_markup=admin_menu())
            try:
                bot.send_message(user_db_id, f"{EMOJIS['warning']} Ù†Ø¸Ø± Ø´Ù…Ø§ Ø¯Ø± Ù…Ú©Ø§Ù† {title} ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ† Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø­Ø°Ù Ø´Ø¯. âš ï¸")
            except:
                pass
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "admin_score_menu":
        if text == f"{EMOJIS['add_score']} Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø²":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø² ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_add_score_numeric_id"
        elif text == f"{EMOJIS['remove_score']} Ú©Ù… Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø²":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ù… Ú©Ø±Ø¯Ù† Ø§Ù…ØªÛŒØ§Ø² ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_remove_score_numeric_id"
    elif state == "admin_add_score_numeric_id":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                user_data[user_id] = {
                    'target_numeric_id': numeric_id,
                    'target_user_id': target_user[0],
                    'target_name': target_user[1],
                    'target_score': target_user[4]
                }
                bot.send_message(user_id, f"{EMOJIS['info']} Ú†Ù†Ø¯ Ø§Ù…ØªÛŒØ§Ø² Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ØŸ (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_add_score_amount"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_score_menu())
                user_states[user_id] = "admin_score_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_add_score_amount":
        try:
            score_amount = int(text)
            if score_amount > 0:
                user_data[user_id]['score_amount'] = score_amount
                
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                
                msg = f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ {score_amount} Ø§Ù…ØªÛŒØ§Ø² Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø²ÛŒØ± Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ØŸ\n\n"
                msg += f"ğŸ‘¤ Ù†Ø§Ù…: {user_data[user_id]['target_name']}\n"
                msg += f"ğŸ† Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ù„ÛŒ: {user_data[user_id]['target_score']}\n"
                msg += f"â• Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯: {user_data[user_id]['target_score'] + score_amount}"
                
                bot.send_message(user_id, msg, reply_markup=keyboard)
                user_states[user_id] = "admin_add_score_confirm"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} ØªØ¹Ø¯Ø§Ø¯ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!", reply_markup=admin_sub_menu())
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_add_score_confirm":
        if text == "Ø¨Ù„Ù‡":
            target_user_id = user_data[user_id]['target_user_id']
            score_amount = user_data[user_id]['score_amount']
            
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE users SET score = score + ? WHERE user_id = ?", (score_amount, target_user_id))
            conn.commit()
            conn.close()
            
            bot.send_message(user_id, f"{EMOJIS['success']} {score_amount} Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!", reply_markup=admin_menu())
            
            # Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
            try:
                bot.send_message(target_user_id, f"{EMOJIS['success']} Ø§Ø¯Ù…ÛŒÙ† {score_amount} Ø§Ù…ØªÛŒØ§Ø² Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯! ğŸ‰\nØ§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯ Ø´Ù…Ø§: {user_data[user_id]['target_score'] + score_amount}")
            except:
                pass
            
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_score_menu())
            user_states[user_id] = "admin_score_menu"
    elif state == "admin_remove_score_numeric_id":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                user_data[user_id] = {
                    'target_numeric_id': numeric_id,
                    'target_user_id': target_user[0],
                    'target_name': target_user[1],
                    'target_score': target_user[4]
                }
                bot.send_message(user_id, f"{EMOJIS['info']} Ú†Ù†Ø¯ Ø§Ù…ØªÛŒØ§Ø² Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø² Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ú©Ù… Ú©Ù†ÛŒØ¯ØŸ (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_remove_score_amount"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_score_menu())
                user_states[user_id] = "admin_score_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_remove_score_amount":
        try:
            score_amount = int(text)
            if score_amount > 0:
                if score_amount <= user_data[user_id]['target_score']:
                    user_data[user_id]['score_amount'] = score_amount
                    
                    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                    keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                    
                    msg = f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ {score_amount} Ø§Ù…ØªÛŒØ§Ø² Ø§Ø² Ú©Ø§Ø±Ø¨Ø± Ø²ÛŒØ± Ú©Ù… Ú©Ù†ÛŒØ¯ØŸ\n\n"
                    msg += f"ğŸ‘¤ Ù†Ø§Ù…: {user_data[user_id]['target_name']}\n"
                    msg += f"ğŸ† Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ù„ÛŒ: {user_data[user_id]['target_score']}\n"
                    msg += f"â– Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯: {user_data[user_id]['target_score'] - score_amount}"
                    
                    bot.send_message(user_id, msg, reply_markup=keyboard)
                    user_states[user_id] = "admin_remove_score_confirm"
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} ØªØ¹Ø¯Ø§Ø¯ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ú©Ù… Ú©Ø±Ø¯Ù† Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ù„ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª!", reply_markup=admin_sub_menu())
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} ØªØ¹Ø¯Ø§Ø¯ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯!", reply_markup=admin_sub_menu())
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_remove_score_confirm":
        if text == "Ø¨Ù„Ù‡":
            target_user_id = user_data[user_id]['target_user_id']
            score_amount = user_data[user_id]['score_amount']
            
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("UPDATE users SET score = score - ? WHERE user_id = ?", (score_amount, target_user_id))
            conn.commit()
            conn.close()
            
            bot.send_message(user_id, f"{EMOJIS['success']} {score_amount} Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² Ú©Ø§Ø±Ø¨Ø± Ú©Ù… Ø´Ø¯!", reply_markup=admin_menu())
            
            # Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
            try:
                bot.send_message(target_user_id, f"{EMOJIS['warning']} Ø§Ø¯Ù…ÛŒÙ† {score_amount} Ø§Ù…ØªÛŒØ§Ø² Ø§Ø² Ø´Ù…Ø§ Ú©Ù… Ú©Ø±Ø¯! âš ï¸\nØ§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯ Ø´Ù…Ø§: {user_data[user_id]['target_score'] - score_amount}")
            except:
                pass
            
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_score_menu())
            user_states[user_id] = "admin_score_menu"
    elif state == "admin_news_menu":
        if text == f"{EMOJIS['group']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø± Ú¯Ø±ÙˆÙ‡ÛŒ":
            bot.send_message(user_id, f"{EMOJIS['news']} Ù…ØªÙ† Ø®Ø¨Ø± Ú¯Ø±ÙˆÙ‡ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_news_content"
        elif text == f"{EMOJIS['user']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø± Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±":
            bot.send_message(user_id, f"{EMOJIS['news']} Ù…ØªÙ† Ø®Ø¨Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_news_user_content"
    elif state == "admin_news_user_content":
        if text.strip():
            user_data[user_id] = {'news_user_content': text}
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
            user_states[user_id] = "admin_news_user_numeric_id"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù…ØªÙ† Ø®Ø¨Ø± Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!", reply_markup=admin_sub_menu())
    elif state == "admin_news_user_numeric_id":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                user_data[user_id]['target_user_numeric_id'] = numeric_id
                user_data[user_id]['target_user_id'] = target_user[0]
                user_data[user_id]['target_user_name'] = target_user[1]
                user_data[user_id]['target_user_age'] = target_user[2]
                user_data[user_id]['target_user_gender'] = target_user[3]
                
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                
                msg = f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ø®Ø¨Ø± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø²ÛŒØ± Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŸ\n\n"
                msg += f"ğŸ‘¤ Ù†Ø§Ù…: {target_user[1]}\n"
                msg += f"ğŸ‚ Ø³Ù†: {target_user[2]}\n"
                msg += f"ğŸ‘« Ø¬Ù†Ø³ÛŒØª: {target_user[3]}\n\n"
                msg += f"ğŸ“ Ø®Ø¨Ø±:\n{user_data[user_id]['news_user_content']}"
                
                bot.send_message(user_id, msg, reply_markup=keyboard)
                user_states[user_id] = "admin_news_user_confirm"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_news_menu())
                user_states[user_id] = "admin_news_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_news_user_confirm":
        if text == "Ø¨Ù„Ù‡":
            news_content = user_data[user_id]['news_user_content']
            target_user_id = user_data[user_id]['target_user_id']
            
            try:
                bot.send_message(target_user_id, f"{EMOJIS['news']} Ø®Ø¨Ø± ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§:\n\n{news_content}")
                bot.send_message(user_id, f"{EMOJIS['success']} Ø®Ø¨Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!", reply_markup=admin_menu())
            except Exception as e:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø±: {str(e)}", reply_markup=admin_menu())
            
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø± Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_news_menu())
            user_states[user_id] = "admin_news_menu"
    elif state == "admin_view_gender":
        if text == "ğŸ‘¦ Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù¾Ø³Ø±":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT user_id, name, age, score, numeric_id FROM users WHERE gender = 'Ù¾Ø³Ø±'")
            users = c.fetchall()
            conn.close()
            if users:
                msg = f"{EMOJIS['info']} Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù¾Ø³Ø±:\n\n"
                msg += "\n".join([f"Ù†Ø§Ù…: {u[1]}\nØ³Ù†: {u[2]}\nØ§Ù…ØªÛŒØ§Ø²: {u[3]}\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ: {u[4]}\nØ¢ÛŒØ¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…: {u[0]}\n-------------------" for u in users])
            else:
                msg = f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø± Ù¾Ø³Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!"
            bot.send_message(user_id, msg, reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
        elif text == "ğŸ‘§ Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø®ØªØ±":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT user_id, name, age, score, numeric_id FROM users WHERE gender = 'Ø¯Ø®ØªØ±'")
            users = c.fetchall()
            conn.close()
            if users:
                msg = f"{EMOJIS['info']} Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¯Ø®ØªØ±:\n\n"
                msg += "\n".join([f"Ù†Ø§Ù…: {u[1]}\nØ³Ù†: {u[2]}\nØ§Ù…ØªÛŒØ§Ø²: {u[3]}\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ: {u[4]}\nØ¢ÛŒØ¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…: {u[0]}\n-------------------" for u in users])
            else:
                msg = f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø± Ø¯Ø®ØªØ±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!"
            bot.send_message(user_id, msg, reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "admin_block_user":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                telegram_id = target_user[0]
                username = target_user[1]
                user_data[user_id] = {'target_telegram_id': telegram_id, 'target_numeric_id': numeric_id}
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø± {username} Ø±Ø§ Ù…Ø³Ø¯ÙˆØ¯ Ú©Ù†ÛŒØ¯ØŸ", reply_markup=keyboard)
                user_states[user_id] = "admin_confirm_block"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_menu())
                user_states[user_id] = "admin_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_confirm_block":
        if text == "Ø¨Ù„Ù‡":
            target_telegram_id = user_data[user_id]['target_telegram_id']
            block_user(target_telegram_id)
            bot.send_message(user_id, f"{EMOJIS['success']} Ú©Ø§Ø±Ø¨Ø± Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
            try:
                bot.send_message(target_telegram_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø² Ø·Ø±Ù Ø§Ø¯Ù…ÛŒÙ† Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø§ÛŒØ¯âŒØ¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø¨Ø§ÛŒØ¯ Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ø§Ù†Ø¯Ú© Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ â€¼ï¸ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ù‡ Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯: @Sedayegoyom10")
            except:
                pass
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "admin_unblock_user":
        try:
            numeric_id = int(text)
            target_user = get_user_by_numeric_id(numeric_id)
            if target_user:
                telegram_id = target_user[0]
                username = target_user[1]
                user_data[user_id] = {'target_telegram_id': telegram_id, 'target_numeric_id': numeric_id}
                
                if is_user_blocked(telegram_id):
                    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                    keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                    bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø± {username} Ø±Ø§ Ø§Ø² Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø®Ø§Ø±Ø¬ Ú©Ù†ÛŒØ¯ØŸ", reply_markup=keyboard)
                    user_states[user_id] = "admin_confirm_unblock"
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù…Ø³Ø¯ÙˆØ¯ Ù†ÛŒØ³ØªâŒ", reply_markup=admin_menu())
                    user_states[user_id] = "admin_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_menu())
                user_states[user_id] = "admin_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_confirm_unblock":
        if text == "Ø¨Ù„Ù‡":
            target_telegram_id = user_data[user_id]['target_telegram_id']
            unblock_user(target_telegram_id)
            bot.send_message(user_id, f"{EMOJIS['success']} Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
            try:
                bot.send_message(target_telegram_id, f"{EMOJIS['success']} Ø´Ù…Ø§ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯ÛŒØ¯ Ùˆ Ø¯ÛŒÚ¯Ø± Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ğŸ”¥")
            except:
                pass
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "admin_news_content":
        if text.strip():
            user_data[user_id] = {'news_content': text}
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ø®Ø¨Ø± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŸ\n\n{text}", reply_markup=keyboard)
            user_states[user_id] = "admin_news_confirm"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù…ØªÙ† Ø®Ø¨Ø± Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!", reply_markup=admin_sub_menu())
    elif state == "admin_news_confirm":
        if text == "Ø¨Ù„Ù‡":
            news_content = user_data[user_id]['news_content']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("INSERT INTO news (content) VALUES (?)", (news_content,))
            c.execute("SELECT user_id FROM users")
            users = c.fetchall()
            conn.commit()
            conn.close()
            success_count = 0
            for user in users:
                try:
                    bot.send_message(user[0], f"{EMOJIS['news']} Ø®Ø¨Ø± Ø¬Ø¯ÛŒØ¯:\n{news_content}")
                    success_count += 1
                except:
                    pass
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            keyboard.row(f"{EMOJIS['delete']} Ø­Ø°Ù Ø®Ø¨Ø±", f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
            msg = f"{EMOJIS['success']} Ø®Ø¨Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ {success_count} Ú©Ø§Ø±Ø¨Ø± Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!"
            bot.send_message(user_id, msg, reply_markup=keyboard)
            user_states[user_id] = "admin_news_sent"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ø±Ø³Ø§Ù„ Ø®Ø¨Ø± Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "admin_news_sent":
        if text == f"{EMOJIS['delete']} Ø­Ø°Ù Ø®Ø¨Ø±":
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("DELETE FROM news WHERE news_id = (SELECT MAX(news_id) FROM news)")
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ø®Ø¨Ø± Ø­Ø°Ù Ø´Ø¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
        elif text == f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª":
            bot.send_message(user_id, f"{EMOJIS['admin']} Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†:", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "admin_delete_place_title":
        if text.strip():
            user_data[user_id] = {'delete_place_title': text}
            keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
            for cat in PLACE_CATEGORIES:
                keyboard.row(f"ğŸ“Œ {cat}")
            keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
            bot.send_message(user_id, f"{EMOJIS['places']} Ø¯Ø³ØªÙ‡ Ù…Ú©Ø§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "admin_delete_place_category"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø¹Ù†ÙˆØ§Ù† Ù…Ú©Ø§Ù† Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!", reply_markup=admin_sub_menu())
    elif state == "admin_delete_place_category":
        if text.startswith("ğŸ“Œ"):
            category = text[2:]
            if category in PLACE_CATEGORIES:
                user_data[user_id]['delete_place_category'] = category
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                for sub in PLACE_CATEGORIES[category]:
                    keyboard.row(f"ğŸ”¹ {sub}")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                bot.send_message(user_id, f"{EMOJIS['places']} Ø²ÛŒØ±Ø¯Ø³ØªÙ‡ Ù…Ú©Ø§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                user_states[user_id] = "admin_delete_place_subcategory"
    elif state == "admin_delete_place_subcategory":
        if text.startswith("ğŸ”¹"):
            subcategory = text[2:]
            category = user_data[user_id].get('delete_place_category', '')
            if subcategory in PLACE_CATEGORIES.get(category, []):
                user_data[user_id]['delete_place_subcategory'] = subcategory
                bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ù…Ø§Ù„Ú© Ù…Ú©Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=admin_sub_menu())
                user_states[user_id] = "admin_delete_place_user_id"
    elif state == "admin_delete_place_user_id":
        try:
            numeric_id = int(text)
            user_data[user_id]['delete_place_numeric_id'] = numeric_id
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT user_id FROM users WHERE numeric_id = ?", (numeric_id,))
            user_result = c.fetchone()
            if user_result:
                user_db_id = user_result[0]
                title = user_data[user_id]['delete_place_title']
                category = user_data[user_id]['delete_place_category']
                subcategory = user_data[user_id]['delete_place_subcategory']
                c.execute("SELECT place_id FROM places WHERE user_id = ? AND title = ? AND category = ? AND subcategory = ?",
                          (user_db_id, title, category, subcategory))
                place_result = c.fetchone()
                if place_result:
                    user_data[user_id]['delete_place_id'] = place_result[0]
                    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                    keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                    keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª", "Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†")
                    bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù…Ú©Ø§Ù† Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ\nØ¹Ù†ÙˆØ§Ù†: {title}", reply_markup=keyboard)
                    user_states[user_id] = "admin_delete_place_confirm"
                else:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ù…Ø´Ø®ØµØ§Øª ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_menu())
                    user_states[user_id] = "admin_menu"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!", reply_markup=admin_menu())
                user_states[user_id] = "admin_menu"
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=admin_sub_menu())
    elif state == "admin_delete_place_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['delete_place_id']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("DELETE FROM places WHERE place_id = ?", (place_id,))
            c.execute("DELETE FROM place_ratings WHERE place_id = ?", (place_id,))
            c.execute("DELETE FROM comments WHERE place_id = ?", (place_id,))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ù…Ú©Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯!", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø­Ø°Ù Ù…Ú©Ø§Ù† Ù„ØºÙˆ Ø´Ø¯.", reply_markup=admin_menu())
            user_states[user_id] = "admin_menu"
    elif state == "place_rate":
        try:
            rating = int(text)
            if 0 <= rating <= 10:
                user_data[user_id]['rating'] = rating
                keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
                keyboard.row("Ø¨Ù„Ù‡", "Ø®ÛŒØ±")
                keyboard.row(f"{EMOJIS['back']} Ø¨Ø±Ú¯Ø´Øª")
                bot.send_message(user_id, f"{EMOJIS['rating']} Ø¢ÛŒØ§ Ø§Ù…ØªÛŒØ§Ø² {rating} Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù…Ú©Ø§Ù† ØµØ­ÛŒØ­ Ø§Ø³ØªØŸ", reply_markup=keyboard)
                user_states[user_id] = "place_rate_confirm"
            else:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† 0 ØªØ§ 10 Ø¨Ø§Ø´Ø¯!", reply_markup=back_button_only())
        except ValueError:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù„Ø·ÙØ§Ù‹ Ø¹Ø¯Ø¯ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!", reply_markup=back_button_only())
    elif state == "place_rate_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['place_id']
            rating = user_data[user_id]['rating']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            # Ø«Ø¨Øª Ø§Ù…ØªÛŒØ§Ø²
            c.execute("INSERT OR REPLACE INTO place_ratings (place_id, user_id, rating) VALUES (?, ?, ?)", (place_id, user_id, rating))
            c.execute("SELECT rating_sum, rating_count, user_id FROM places WHERE place_id = ?", (place_id,))
            current = c.fetchone()
            old_sum = current[0]
            old_count = current[1]
            old_avg = old_sum / old_count if old_count > 0 else 0
            rating_sum = old_sum + rating
            rating_count = old_count + 1
            new_avg = rating_sum / rating_count if rating_count > 0 else 0
            c.execute("UPDATE places SET rating_sum = ?, rating_count = ? WHERE place_id = ?", (rating_sum, rating_count, place_id))
            # Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±
            c.execute("SELECT name, age, gender FROM users WHERE user_id = ?", (user_id,))
            user_info = c.fetchone()
            owner_id = current[2]
            conn.commit()
            conn.close()
            check_top_place_change(place_id, old_avg, new_avg)
            # Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±
            bot.send_message(user_id, f"{EMOJIS['success']} Ø§Ù…ØªÛŒØ§Ø² Ø´Ù…Ø§ ({rating}) Ø«Ø¨Øª Ø´Ø¯! Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²: {new_avg:.1f}", reply_markup=get_place_menu())
            bot.send_animation(user_id, 'https://t.me/animated_gifs/success.gif')
            # Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù†
            if owner_id:
                try:
                    bot.send_message(owner_id, f"{EMOJIS['rating']} Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ù…Ú©Ø§Ù† Ø´Ù…Ø§ Ø§Ù…ØªÛŒØ§Ø² Ø¯Ø§Ø¯:\n"
                                              f"Ù†Ø§Ù…: {user_info[0]}\nØ³Ù†: {user_info[1]}\nØ¬Ù†Ø³ÛŒØª: {user_info[2]}\nØ§Ù…ØªÛŒØ§Ø²: {rating}")
                except:
                    pass
            user_states[user_id] = "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ Ù„ØºÙˆ Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø§Ù…ØªÛŒØ§Ø² Ø¬Ø¯ÛŒØ¯ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=back_button_only())
            user_states[user_id] = "place_rate"
    elif state == "comment_add":
        if text.strip():
            user_data[user_id]['comment_text'] = text
            keyboard = confirm_keyboard()
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù†Ø¸Ø± Ø±Ø§ Ø«Ø¨Øª Ú©Ù†ÛŒØ¯ØŸ\n\n{text}", reply_markup=keyboard)
            user_states[user_id] = "comment_add_confirm"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù†Ø¸Ø± Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯!")
    elif state == "comment_add_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['place_id']
            comment_text = user_data[user_id]['comment_text']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("INSERT INTO comments (place_id, user_id, comment) VALUES (?, ?, ?)", (place_id, user_id, comment_text))
            conn.commit()
            # Ø§Ø·Ù„Ø§Ø¹ Ø¨Ù‡ ØµØ§Ø­Ø¨
            c.execute("SELECT user_id, title FROM places WHERE place_id = ?", (place_id,))
            owner_id, title = c.fetchone()
            c.execute("SELECT name, age, gender FROM users WHERE user_id = ?", (user_id,))
            user_info = c.fetchone()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ù†Ø¸Ø± Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!", reply_markup=get_place_menu())
            bot.send_animation(user_id, 'https://t.me/animated_gifs/success.gif')
            try:
                bot.send_message(owner_id, f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù…Ú©Ø§Ù† {title}:\nØ§Ø²: {user_info[0]} ({user_info[1]} Ø³Ø§Ù„Ù‡ØŒ {user_info[2]})\n\n{comment_text}")
            except:
                pass
            user_states[user_id] = "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø«Ø¨Øª Ù†Ø¸Ø± Ù„ØºÙˆ Ø´Ø¯.", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
    elif state == "comment_delete_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['place_id']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("DELETE FROM comments WHERE place_id = ? AND user_id = ?", (place_id, user_id))
            conn.commit()
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ù†Ø¸Ø± Ø­Ø°Ù Ø´Ø¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
    elif state == "message_to_owner":
        if content_type == 'text':
            message_text = text
        else:
            message_text = "Ø±Ø³Ø§Ù†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡"
        user_data[user_id]['message_content'] = message.to_dict()  # Ø°Ø®ÛŒØ±Ù‡ Ú©Ù„ Ù¾ÛŒØ§Ù…
        keyboard = confirm_keyboard()
        bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŸ", reply_markup=keyboard)
        user_states[user_id] = "message_to_owner_confirm"
    elif state == "message_to_owner_confirm":
        if text == "Ø¨Ù„Ù‡":
            place_id = user_data[user_id]['place_id']
            message_content = user_data[user_id]['message_content']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT user_id, title FROM places WHERE place_id = ?", (place_id,))
            owner_id, title = c.fetchone()
            c.execute("SELECT name, age, gender, numeric_id FROM users WHERE user_id = ?", (user_id,))
            user_info = c.fetchone()
            conn.close()
            if owner_id:
                try:
                    msg = f"{EMOJIS['message']} Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù…Ú©Ø§Ù† {title}:\nØ§Ø²: {user_info[0]} ({user_info[1]} Ø³Ø§Ù„Ù‡ØŒ {user_info[2]})\nØ´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ: {user_info[3]}\n\n"
                    bot.send_message(owner_id, msg)
                    # Ø§Ø±Ø³Ø§Ù„ Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ
                    bot.forward_message(owner_id, user_id, message_content['message_id'])
                    keyboard = message_menu()
                    bot.send_message(owner_id, "Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
                    # Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ø¬ÙˆØ§Ø¨
                    user_data[owner_id] = {'reply_to_user': user_id, 'reply_place_id': place_id}
                    bot.send_message(user_id, f"{EMOJIS['success']} Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!", reply_markup=get_place_menu())
                    bot.send_animation(user_id, 'https://t.me/animated_gifs/success.gif')
                except:
                    bot.send_message(user_id, f"{EMOJIS['error']} Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„!")
            user_states[user_id] = "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ø±Ø³Ø§Ù„ Ù„ØºÙˆ Ø´Ø¯.", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
    elif state == "message_reply":
        if content_type == 'text':
            reply_text = text
        else:
            reply_text = "Ø±Ø³Ø§Ù†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡"
        user_data[user_id]['reply_content'] = message.to_dict()
        keyboard = confirm_keyboard()
        bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ø¬ÙˆØ§Ø¨ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ØŸ", reply_markup=keyboard)
        user_states[user_id] = "message_reply_confirm"
    elif state == "message_reply_confirm":
        if text == "Ø¨Ù„Ù‡":
            reply_to_user = user_data[user_id]['reply_to_user']
            reply_content = user_data[user_id]['reply_content']
            place_id = user_data[user_id]['reply_place_id']
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT title FROM places WHERE place_id = ?", (place_id,))
            title = c.fetchone()[0]
            conn.close()
            try:
                bot.send_message(reply_to_user, f"{EMOJIS['reply']} Ø¬ÙˆØ§Ø¨ Ø§Ø² ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† {title}:")
                bot.forward_message(reply_to_user, user_id, reply_content['message_id'])
                bot.send_message(user_id, f"{EMOJIS['success']} Ø¬ÙˆØ§Ø¨ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!", reply_markup=admin_menu() if user_id == ADMIN_ID else get_place_menu())
            except:
                bot.send_message(user_id, f"{EMOJIS['error']} Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„!")
            user_states[user_id] = "admin_menu" if user_id == ADMIN_ID else "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø§Ø±Ø³Ø§Ù„ Ù„ØºÙˆ Ø´Ø¯.", reply_markup=message_menu())
            user_states[user_id] = "main_menu"  # ÛŒØ§ Ø­Ø§Ù„Øª Ù‚Ø¨Ù„ÛŒ
    elif state == "message_block_confirm":
        if text == "Ø¨Ù„Ù‡":
            reply_to_user = user_data[user_id]['reply_to_user']
            place_id = user_data[user_id]['reply_place_id']
            block_user_for_place(place_id, reply_to_user)
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT title FROM places WHERE place_id = ?", (place_id,))
            title = c.fetchone()[0]
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ú©Ø§Ø±Ø¨Ø± Ø¨Ù„Ø§Ú© Ø´Ø¯!", reply_markup=get_place_menu())
            try:
                bot.send_message(reply_to_user, f"{EMOJIS['warning']} Ø´Ù…Ø§ ØªÙˆØ³Ø· ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† {title} Ø¨Ù„Ø§Ú© Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯. âš ï¸")
            except:
                pass
            user_states[user_id] = "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=message_menu())
    elif state == "message_unblock_confirm":
        if text == "Ø¨Ù„Ù‡":
            reply_to_user = user_data[user_id]['reply_to_user']
            place_id = user_data[user_id]['reply_place_id']
            unblock_user_for_place(place_id, reply_to_user)
            conn = sqlite3.connect(DB_NAME)
            c = conn.cursor()
            c.execute("SELECT title FROM places WHERE place_id = ?", (place_id,))
            title = c.fetchone()[0]
            conn.close()
            bot.send_message(user_id, f"{EMOJIS['success']} Ú©Ø§Ø±Ø¨Ø± Ø±ÙØ¹ Ø¨Ù„Ø§Ú© Ø´Ø¯!", reply_markup=get_place_menu())
            try:
                bot.send_message(reply_to_user, f"{EMOJIS['success']} Ø´Ù…Ø§ ØªÙˆØ³Ø· ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† {title} Ø±ÙØ¹ Ø¨Ù„Ø§Ú© Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯. ğŸ”¥")
            except:
                pass
            user_states[user_id] = "place_menu"
        elif text == "Ø®ÛŒØ±":
            bot.send_message(user_id, f"{EMOJIS['info']} Ø¹Ù…Ù„ÛŒØ§Øª Ù„ØºÙˆ Ø´Ø¯.", reply_markup=message_menu())

# Ù…Ø¯ÛŒØ±ÛŒØª Ø¹Ú©Ø³â€ŒÙ‡Ø§
@bot.message_handler(content_types=['photo'])
def handle_photo(message):
    user_id = message.from_user.id
    if is_user_blocked(user_id):
        bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø² Ø·Ø±Ù Ø§Ø¯Ù…ÛŒÙ† Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø§ÛŒØ¯âŒØ¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø¨Ø§ÛŒØ¯ Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ø§Ù†Ø¯Ú© Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ â€¼ï¸ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ù‡ Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯: @Sedayegoyom10")
        return
    state = user_states.get(user_id, "")
    if state in ["place_add_photo", "edit_place_photo"]:
        if user_id != ADMIN_ID and state == "place_add_photo":
            bot.send_message(user_id, f"{EMOJIS['error']} ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ú©Ø§Ù† Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†Ø¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        photo_id = message.photo[-1].file_id
        if user_id not in place_photos:
            place_photos[user_id] = []
        if len(place_photos[user_id]) < 8:
            place_photos[user_id].append(photo_id)
            bot.send_message(user_id, f"{EMOJIS['success']} Ø¹Ú©Ø³ {len(place_photos[user_id])} Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªØ§ 8 Ø¹Ú©Ø³ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.")
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø­Ø¯Ø§Ú©Ø«Ø± 8 Ø¹Ú©Ø³ Ù…Ø¬Ø§Ø² Ø§Ø³Øª!")

# Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù„â€ŒØ¨Ú©â€ŒÙ‡Ø§
@bot.callback_query_handler(func=lambda call: True)
def callback_query(call):
    user_id = call.from_user.id
    if is_user_blocked(user_id):
        bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù†Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ø² Ø·Ø±Ù Ø§Ø¯Ù…ÛŒÙ† Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø§ÛŒØ¯âŒØ¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø¨Ø§ÛŒØ¯ Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ø§Ù†Ø¯Ú© Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯ â€¼ï¸ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ù‡ Ø§ÛŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯: @Sedayegoyom10")
        return
    data = call.data
    if data == "accept_terms":
        user = get_user(user_id)
        if user:
            bot.send_message(user_id, f"{EMOJIS['success']} Ø®ÙˆØ´ Ø¨Ø±Ú¯Ø´ØªÛŒ! ğŸ˜", reply_markup=main_menu(user_id))
            user_states[user_id] = "main_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['profile']} Ø³Ù„Ø§Ù…! Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:")
            user_states[user_id] = "awaiting_name"
            user_data[user_id] = {}
    elif data == "decline_terms":
        keyboard = types.InlineKeyboardMarkup()
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['info']} Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆØ¨Ø§Ø±Ù‡", callback_data="retry_terms"))
        bot.send_message(user_id, f"{EMOJIS['error']} Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§ØªØŒ Ø¨Ø§ÛŒØ¯ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±ÛŒØ¯. Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… Ù¾Ø°ÛŒØ±Ø´ØŒ Ù‚Ø§Ø¯Ø± Ø¨Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø¨Ø§Øª Ù†Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¨ÙˆØ¯.", reply_markup=keyboard)
    elif data == "retry_terms":
        keyboard = types.InlineKeyboardMarkup()
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['success']} Ù¾Ø°ÛŒØ±ÙØªÙ†", callback_data="accept_terms"))
        keyboard.add(types.InlineKeyboardButton(f"{EMOJIS['error']} Ù†Ù¾Ø°ÛŒØ±ÙØªÙ†", callback_data="decline_terms"))
        bot.send_message(user_id, WELCOME_MESSAGE, parse_mode="Markdown", reply_markup=keyboard)
        user_states[user_id] = "awaiting_terms"
    elif data.startswith("delete_place"):
        place_id = int(data.split("_")[2])
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT user_id FROM places WHERE place_id = ?", (place_id,))
        place = c.fetchone()
        if place and (place[0] == user_id or user_id == ADMIN_ID):
            c.execute("DELETE FROM places WHERE place_id = ?", (place_id,))
            c.execute("DELETE FROM place_ratings WHERE place_id = ?", (place_id,))
            c.execute("DELETE FROM comments WHERE place_id = ?", (place_id,))
            conn.commit()
            bot.send_message(user_id, f"{EMOJIS['success']} Ù…Ú©Ø§Ù† Ø­Ø°Ù Ø´Ø¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ù…Ø¬Ø§Ø² Ø¨Ù‡ Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ú©Ø§Ù† Ù†ÛŒØ³ØªÛŒØ¯!", reply_markup=get_place_menu())
        conn.close()
    elif data.startswith("edit_place"):
        place_id = int(data.split("_")[2])
        user_data[user_id] = {'edit_place_id': place_id}
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT * FROM places WHERE place_id = ? AND (user_id = ? OR ? = ?)", (place_id, user_id, user_id, ADMIN_ID))
        place = c.fetchone()
        conn.close()
        if place:
            keyboard = edit_place_menu(place_id)
            msg = f"{EMOJIS['edit']} Ú©Ø¯Ø§Ù… Ø¨Ø®Ø´ Ø±Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯ØŸ"
            bot.send_message(user_id, msg, reply_markup=keyboard)
            user_states[user_id] = "edit_place_menu"
    elif data.startswith("rate_place"):
        place_id = int(data.split("_")[2])
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT rating FROM place_ratings WHERE place_id = ? AND user_id = ?", (place_id, user_id))
        existing_rating = c.fetchone()
        conn.close()
        if existing_rating:
            bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ú©Ø§Ù† Ø§Ù…ØªÛŒØ§Ø² {existing_rating[0]} Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
        else:
            user_data[user_id] = {'place_id': place_id}
            bot.send_message(user_id, f"{EMOJIS['rating']} Ø§Ù…ØªÛŒØ§Ø²ÛŒ Ø¨ÛŒÙ† 0 ØªØ§ 10 Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù…Ú©Ø§Ù† ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: (Ø´Ù…Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ù‡ Ù…Ø«Ù„ 1 2 3 4 5 6 7 8 9)", reply_markup=back_button_only())
            user_states[user_id] = "place_rate"
    elif data.startswith("add_comment"):
        place_id = int(data.split("_")[2])
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT comment_id FROM comments WHERE place_id = ? AND user_id = ?", (place_id, user_id))
        existing_comment = c.fetchone()
        conn.close()
        user_data[user_id] = {'place_id': place_id}
        if existing_comment:
            keyboard = comment_menu(True)
            bot.send_message(user_id, f"{EMOJIS['info']} Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ù†Ø¸Ø± Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯. Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø­Ø°Ù Ú©Ù†ÛŒØ¯:", reply_markup=keyboard)
            user_states[user_id] = "comment_delete"
        else:
            bot.send_message(user_id, f"{EMOJIS['comment']} Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:", reply_markup=back_button_only())
            user_states[user_id] = "comment_add"
    elif data.startswith("view_comments"):
        place_id = int(data.split("_")[2])
        conn = sqlite3.connect(DB_NAME)
        c = conn.cursor()
        c.execute("SELECT comments.comment, users.name, users.age, users.gender, users.numeric_id FROM comments JOIN users ON comments.user_id = users.user_id WHERE comments.place_id = ?", (place_id,))
        comments = c.fetchall()
        conn.close()
        if comments:
            msg = f"{EMOJIS['comments']} Ù†Ø¸Ø±Ø§Øª:\n\n"
            for com in comments:
                msg += f"{com[1]} ({com[2]} Ø³Ø§Ù„Ù‡ØŒ {com[3]}): {com[0]}\n"
                if user_id == ADMIN_ID:
                    msg += f"Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ: {com[4]}\n"
                msg += "-------------------\n"
            bot.send_message(user_id, msg, reply_markup=back_button_only())
        else:
            bot.send_message(user_id, f"{EMOJIS['error']} Ù‡ÛŒÚ† Ù†Ø¸Ø±ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯!", reply_markup=back_button_only())
        user_states[user_id] = "place_menu"
    elif data.startswith("message_owner"):
        place_id = int(data.split("_")[2])
        if is_user_blocked_for_place(place_id, user_id):
            bot.send_message(user_id, f"{EMOJIS['error']} Ø´Ù…Ø§ ØªÙˆØ³Ø· ØµØ§Ø­Ø¨ Ø§ÛŒÙ† Ù…Ú©Ø§Ù† Ø¨Ù„Ø§Ú© Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯!", reply_markup=get_place_menu())
            user_states[user_id] = "place_menu"
            return
        user_data[user_id] = {'place_id': place_id}
        bot.send_message(user_id, f"{EMOJIS['message']} Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØµØ§Ø­Ø¨ Ù…Ú©Ø§Ù† Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ (Ù…ØªÙ†ØŒ Ø¹Ú©Ø³ØŒ ÙˆÛŒØ³ Ùˆ ...):", reply_markup=back_button_only())
        user_states[user_id] = "message_to_owner"
    elif data.startswith("help_next"):
        page = int(data.split("_")[2]) + 1
        send_help_page(user_id, page)
    elif data.startswith("help_prev"):
        page = int(data.split("_")[2]) - 1
        send_help_page(user_id, page)
    elif data.startswith("comment_delete"):
        place_id = user_data[user_id]['place_id']
        keyboard = confirm_keyboard()
        bot.send_message(user_id, f"{EMOJIS['info']} Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ", reply_markup=keyboard)
        user_states[user_id] = "comment_delete_confirm"

# Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ø¯Ø± Ø­Ø§Ù„Øª ÙˆØ¨ Ù‡ÙˆÚ©
if __name__ == "__main__":
    app.run(host="0.0.0.0", port=PORT)